"use strict";(self.webpackChunkhouse_todo=self.webpackChunkhouse_todo||[]).push([[179],{6755:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(9526);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(6397);\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(3277);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 13 modules\nvar es = __webpack_require__(2384);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(4470);\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js + 8 modules\nvar redux_toolkit_esm = __webpack_require__(5241);\n;// CONCATENATED MODULE: ./src/store/reducers/projects.ts\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\n\nvar initialState = {\n    projects: [],\n};\nvar projectsSlice = (0,redux_toolkit_esm/* createSlice */.oM)({\n    name: \'projects\',\n    initialState: initialState,\n    reducers: {\n        init: function (state, action) {\n            var _a;\n            (_a = state.projects).push.apply(_a, action.payload);\n        },\n        addProject: function (state, action) {\n            state.projects.push(action.payload);\n        },\n        updateProject: function (state, action) {\n            var projectIndex = state.projects.findIndex(function (project) { return project.id === action.payload.id; });\n            if (projectIndex < 0) {\n                throw new Error("Project ".concat(action.payload.id, " does not exist"));\n            }\n            state.projects[projectIndex] = __assign(__assign({}, state.projects[projectIndex]), action.payload);\n        },\n        addStep: function (state, _a) {\n            var _b = _a.payload, projectId = _b.projectId, step = _b.step;\n            var project = state.projects.find(function (project) { return project.id === projectId; });\n            if (!project) {\n                return;\n            }\n            project.steps.push(step);\n        },\n        setSteps: function (state, _a) {\n            var _b = _a.payload, projectId = _b.projectId, steps = _b.steps;\n            var project = state.projects.find(function (project) { return project.id === projectId; });\n            if (!project) {\n                return;\n            }\n            project.steps = steps;\n        }\n    },\n});\nvar init = (_a = projectsSlice.actions, _a.init), addProject = _a.addProject, updateProject = _a.updateProject, addStep = _a.addStep, setSteps = _a.setSteps;\nvar reducer = projectsSlice.reducer;\n\n;// CONCATENATED MODULE: ./src/store/store.ts\n\n\nvar logMiddleware = function (store) { return function (next) { return function (action) {\n    console.log(\'dispatching action\', action);\n    return next(action);\n}; }; };\nvar store = (0,redux_toolkit_esm/* configureStore */.xC)({\n    reducer: {\n        projects: reducer,\n    },\n    middleware: [\n        logMiddleware,\n    ]\n});\n\n\n// EXTERNAL MODULE: ./node_modules/localforage/dist/localforage.js\nvar localforage = __webpack_require__(1466);\n;// CONCATENATED MODULE: ./src/store/persist.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar STORE_KEY = "REDUX_STORE";\nvar getPersistedState = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, localforage.getItem(STORE_KEY)];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\nvar initPersist = function () {\n    store.subscribe(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var state, persistedState;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    state = store.getState();\n                    persistedState = {\n                        projects: state.projects.projects,\n                    };\n                    return [4 /*yield*/, localforage.setItem(STORE_KEY, persistedState)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); });\n};\ngetPersistedState().then(function (storedState) {\n    var _a;\n    if (!((_a = storedState === null || storedState === void 0 ? void 0 : storedState.projects) === null || _a === void 0 ? void 0 : _a.length)) {\n        return;\n    }\n    store.dispatch(init(storedState.projects));\n});\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Link/Link.js + 2 modules\nvar Link = __webpack_require__(907);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js + 3 modules\nvar Breadcrumbs = __webpack_require__(9364);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(9855);\n// EXTERNAL MODULE: ./node_modules/@remix-run/router/dist/router.js\nvar router = __webpack_require__(4290);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Stack/Stack.js + 2 modules\nvar Stack = __webpack_require__(3658);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button = __webpack_require__(8864);\n;// CONCATENATED MODULE: ./src/store/hooks.ts\n\nvar useAppDispatch = es/* useDispatch */.I0;\nvar useAppSelector = es/* useSelector */.v9;\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules\nvar Dialog = __webpack_require__(25);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(9480);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(8894);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules\nvar DialogActions = __webpack_require__(8463);\n// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 42 modules\nvar TextField = __webpack_require__(6991);\n;// CONCATENATED MODULE: ./src/components/Project/AddStepForm.tsx\n\n\n\nvar AddStepForm = function (_a) {\n    var project = _a.project, onSubmit = _a.onSubmit;\n    return (react.createElement(dist/* Form */.l0, { method: "post", action: "/projects/".concat(project.id, "/step"), onSubmit: onSubmit },\n        react.createElement(Stack/* default */.Z, null,\n            react.createElement(TextField/* default */.Z, { name: "stepText", label: "Step", autoFocus: true }))));\n};\n\n;// CONCATENATED MODULE: ./src/components/Project/AddStepDialog.tsx\n\n\n\nvar AddStepDialog = function (_a) {\n    var project = _a.project, open = _a.open, onSubmit = _a.onSubmit;\n    return (react.createElement(Dialog/* default */.Z, { open: open },\n        react.createElement(DialogTitle/* default */.Z, null, "Add a step"),\n        react.createElement(DialogContent/* default */.Z, null,\n            react.createElement(AddStepForm, { project: project, onSubmit: onSubmit })),\n        react.createElement(DialogActions/* default */.Z, null,\n            react.createElement(Button/* default */.Z, { variant: "contained" }, "Cancel"),\n            react.createElement(Button/* default */.Z, { type: "submit", variant: "contained" }, "Add"))));\n};\n\n;// CONCATENATED MODULE: ./src/components/Project/NoProject.tsx\n\nvar NoProject = function () {\n    return (react.createElement("div", null, "No project found"));\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/List/List.js + 1 modules\nvar List = __webpack_require__(1445);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItem/ListItem.js + 3 modules\nvar ListItem = __webpack_require__(8958);\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(2525);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/esm/ArrowDropUp.js\nvar ArrowDropUp = __webpack_require__(8816);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/esm/ArrowDropDown.js\nvar ArrowDropDown = __webpack_require__(9458);\n;// CONCATENATED MODULE: ./src/components/ReorderableList/ReorderableList.tsx\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n\n\nfunction ReorderableList(_a) {\n    var items = _a.items, children = _a.children, onReorder = _a.onReorder;\n    var moveUp = react.useCallback(function (event) {\n        var indexString = event.currentTarget.dataset["index"];\n        if (!indexString) {\n            throw new Error(\'No index data specified on reorder up button\');\n        }\n        var index = parseInt(indexString, 10);\n        if (index === 0) {\n            throw new Error(\'Cannot move item up; it is already at the top\');\n        }\n        if (index < 0 || index >= items.length) {\n            throw new Error("Index ".concat(index, " is not in the list"));\n        }\n        var tempItems = __spreadArray([], items, true);\n        var itemToMove = tempItems[index];\n        tempItems[index] = tempItems[index - 1];\n        tempItems[index - 1] = itemToMove;\n        onReorder(tempItems);\n    }, []);\n    var moveDown = react.useCallback(function (event) {\n        var indexString = event.currentTarget.dataset["index"];\n        if (!indexString) {\n            throw new Error(\'No index data specified on reorder up button\');\n        }\n        var index = parseInt(indexString, 10);\n        if (index >= items.length - 1) {\n            throw new Error(\'Cannot move item down; it is already at the bottom\');\n        }\n        if (index < 0 || index >= items.length) {\n            throw new Error("Index ".concat(index, " is not in the list"));\n        }\n        var tempItems = __spreadArray([], items, true);\n        var itemToMove = tempItems[index];\n        tempItems[index] = tempItems[index + 1];\n        tempItems[index + 1] = itemToMove;\n        onReorder(tempItems);\n    }, []);\n    return (react.createElement(List/* default */.Z, null, items.map(function (item, index) { return (react.createElement(ListItem/* default */.ZP, { key: index },\n        react.createElement(Stack/* default */.Z, null,\n            index > 0 && (react.createElement(IconButton/* default */.Z, { size: "small", onClick: moveUp, "data-index": index },\n                react.createElement(ArrowDropUp/* default */.Z, null))),\n            index < items.length - 1 && (react.createElement(IconButton/* default */.Z, { size: "small", onClick: moveDown, "data-index": index },\n                react.createElement(ArrowDropDown/* default */.Z, null)))),\n        children(item))); })));\n}\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemText/ListItemText.js + 1 modules\nvar ListItemText = __webpack_require__(5756);\n;// CONCATENATED MODULE: ./src/components/Project/ReorderableStepList.tsx\n\n\n\nfunction ReorderableStepList(_a) {\n    var steps = _a.steps, onReorder = _a.onReorder;\n    return (react.createElement(ReorderableList, { items: steps, onReorder: onReorder }, function (step) { return (react.createElement(ListItemText/* default */.Z, null, step)); }));\n}\n\n;// CONCATENATED MODULE: ./src/components/Project/Project.tsx\nvar Project_assign = (undefined && undefined.__assign) || function () {\n    Project_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Project_assign.apply(this, arguments);\n};\n\n\n\n\n\n\n\n\nvar Project = function () {\n    var _a = react.useState(false), addStepDialogIsOpen = _a[0], setAddStepDialogIsOpen = _a[1];\n    var dispatch = useAppDispatch();\n    var projectId = (0,react_router_dist/* useParams */.UO)().projectId;\n    var openAddStepDialogHandler = react.useCallback(function () {\n        setAddStepDialogIsOpen(true);\n    }, []);\n    var handleAddStepFormSubmit = react.useCallback(function () {\n        setAddStepDialogIsOpen(false);\n    }, []);\n    if (!projectId) {\n        return (react.createElement(NoProject, null));\n    }\n    var project = useAppSelector(function (state) { return state.projects.projects.find(function (_a) {\n        var id = _a.id;\n        return id === projectId;\n    }); }, function (project1, project2) {\n        if (project1 === project2) {\n            return true;\n        }\n        if (project1 && project2) {\n            if (project1.id !== project2.id) {\n                return false;\n            }\n            if (project1.name !== project2.name) {\n                return false;\n            }\n            if (JSON.stringify(project1.steps) !== JSON.stringify(project2.steps)) {\n                return false;\n            }\n        }\n        if ((!project1 && project2) || (project1 && project2)) {\n            return false;\n        }\n        return true;\n    });\n    if (!project) {\n        return (react.createElement(NoProject, null));\n    }\n    var onReorder = function (reorderedSteps) {\n        dispatch(updateProject(Project_assign(Project_assign({}, project), { steps: reorderedSteps })));\n        // dispatch(setSteps({\n        //   projectId: project.id,\n        //   steps: reorderedSteps,\n        // }));\n    };\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement("header", null,\n            react.createElement(Typography/* default */.Z, { variant: "h2" }, project.name)),\n        react.createElement(AddStepDialog, { project: project, open: addStepDialogIsOpen, onSubmit: handleAddStepFormSubmit }),\n        react.createElement(Stack/* default */.Z, null,\n            react.createElement(Button/* default */.Z, { variant: "contained", onClick: openAddStepDialogHandler }, "Add step"),\n            react.createElement(ReorderableStepList, { steps: project.steps, onReorder: onReorder }))));\n};\n\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Accordion/Accordion.js + 3 modules\nvar Accordion = __webpack_require__(9931);\n// EXTERNAL MODULE: ./node_modules/@mui/material/AccordionSummary/AccordionSummary.js + 1 modules\nvar AccordionSummary = __webpack_require__(4169);\n// EXTERNAL MODULE: ./node_modules/@mui/material/AccordionDetails/AccordionDetails.js + 1 modules\nvar AccordionDetails = __webpack_require__(4318);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemButton/ListItemButton.js\nvar ListItemButton = __webpack_require__(4527);\n;// CONCATENATED MODULE: ./src/components/NewProjectForm.tsx\n\n\n\nvar NewProjectForm = function () {\n    return (react.createElement(dist/* Form */.l0, { method: "post", action: "/projects" },\n        react.createElement(Stack/* default */.Z, { spacing: 1 },\n            react.createElement(TextField/* default */.Z, { name: "name", label: "Name" }),\n            react.createElement(Button/* default */.Z, { variant: "contained", type: "submit" }, "Create"))));\n};\n\n;// CONCATENATED MODULE: ./src/components/ProjectList.tsx\n\n\n\n\n\n\nvar ProjectList = function () {\n    var dispatch = useAppDispatch();\n    var projects = useAppSelector(function (state) { return state.projects.projects; });\n    var onAddClick = react.useCallback(function () {\n        dispatch(addProject({\n            id: "project_".concat(projects.length + 1),\n            name: "Project ".concat(projects.length + 1),\n            steps: [],\n        }));\n    }, [projects]);\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement(Accordion/* default */.Z, null,\n            react.createElement(AccordionSummary/* default */.Z, null, "Add project"),\n            react.createElement(AccordionDetails/* default */.Z, null,\n                react.createElement(NewProjectForm, null))),\n        react.createElement(List/* default */.Z, null, projects.map(function (project, index) { return (react.createElement(ListItemButton/* default */.Z, { key: index, component: dist/* Link */.rU, to: "/projects/".concat(project.id) },\n            react.createElement(ListItemText/* default */.Z, { primary: project.name }))); }))));\n};\n\n// EXTERNAL MODULE: ./node_modules/reselect/es/index.js + 1 modules\nvar reselect_es = __webpack_require__(3806);\n;// CONCATENATED MODULE: ./src/store/selectors/projects.ts\n\nvar getProjects = (0,reselect_es/* createSelector */.P1)(function (state) { return state.projects; }, function (projects) { return projects.projects; });\nvar getProjectById = (0,reselect_es/* createSelector */.P1)(getProjects, function (state, id) { return id; }, function (projects, id) { return projects.find(function (project) { return project.id === id; }); });\n\n;// CONCATENATED MODULE: ./src/components/Home/Home.tsx\n\n\n\nvar Home = function () {\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement(Link/* default */.Z, { component: dist/* Link */.rU, to: "/projects" }, "Projects")));\n};\n\n;// CONCATENATED MODULE: ./src/routes.tsx\nvar routes_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar routes_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\nvar ProjectDetailBreadcrumbTitle = function (_a) {\n    var id = _a.id;\n    var project = useAppSelector(function (state) { return getProjectById(state, id); });\n    console.log(\'project:\', project);\n    return (react.createElement(react.Fragment, null, project ? project.name : \'...\'));\n};\nvar slugify = function (name) {\n    return name.toLowerCase().replace(/[^\\d\\w]/g, \'-\');\n};\nvar routes = [\n    {\n        id: "home",\n        path: "/",\n        element: react.createElement(Home, null)\n    },\n    {\n        path: "/projects",\n        id: "projects-parent",\n        getBreadcrumbTitle: function () {\n            return \'Projects\';\n        },\n        children: [\n            {\n                index: true,\n                id: "project-list",\n                element: react.createElement(ProjectList, null),\n                action: function (_a) {\n                    var request = _a.request;\n                    return routes_awaiter(void 0, void 0, void 0, function () {\n                        var formData, name_1, id;\n                        return routes_generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    if (!(request.method === \'POST\')) return [3 /*break*/, 2];\n                                    return [4 /*yield*/, request.formData()];\n                                case 1:\n                                    formData = _b.sent();\n                                    name_1 = formData.get(\'name\');\n                                    if (!name_1) {\n                                        throw new Response(\'\', { status: 400 });\n                                    }\n                                    id = slugify(name_1);\n                                    store.dispatch(addProject({\n                                        name: name_1,\n                                        id: id,\n                                        steps: [],\n                                    }));\n                                    return [2 /*return*/, (0,router/* redirect */.uX)("/projects/".concat(id))];\n                                case 2: throw new Response(\'\', { status: 405 });\n                            }\n                        });\n                    });\n                },\n            },\n            {\n                path: ":projectId",\n                id: "project-detail",\n                element: react.createElement(Project, null),\n                getBreadcrumbTitle: function (params) {\n                    if (!params) {\n                        throw new Error("Unable to get breadcrumb title for project detail page: no params provided");\n                    }\n                    var id = params.projectId;\n                    if (!id) {\n                        throw new Error("Unable to get breadcrumb title for project detail page: no project ID provided");\n                    }\n                    return (react.createElement(ProjectDetailBreadcrumbTitle, { id: id }));\n                },\n                children: [\n                    {\n                        path: "step",\n                        id: "step-change",\n                        action: function (_a) {\n                            var request = _a.request, params = _a.params;\n                            return routes_awaiter(void 0, void 0, void 0, function () {\n                                var formData, step, projectId_1, project;\n                                return routes_generator(this, function (_b) {\n                                    switch (_b.label) {\n                                        case 0:\n                                            if (!(request.method === \'POST\')) return [3 /*break*/, 2];\n                                            return [4 /*yield*/, request.formData()];\n                                        case 1:\n                                            formData = _b.sent();\n                                            step = formData.get("stepText");\n                                            projectId_1 = params.projectId;\n                                            if (!projectId_1) {\n                                                throw new Response(\'\', { status: 404 });\n                                            }\n                                            project = store.getState().projects.projects.find(function (project) { return project.id === projectId_1; });\n                                            if (!project) {\n                                                throw new Response(\'\', { status: 404 });\n                                            }\n                                            store.dispatch(addStep({ projectId: projectId_1, step: step }));\n                                            return [2 /*return*/, (0,router/* redirect */.uX)("/projects/".concat(projectId_1))];\n                                        case 2: throw new Response(\'\', { status: 405 });\n                                    }\n                                });\n                            });\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n];\n\n;// CONCATENATED MODULE: ./src/components/SiteHeader/SiteHeader.tsx\nvar SiteHeader_assign = (undefined && undefined.__assign) || function () {\n    SiteHeader_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return SiteHeader_assign.apply(this, arguments);\n};\n\n\n\n\nfunction findRouteForId(id, appRoutes) {\n    var _a;\n    if (appRoutes === void 0) { appRoutes = routes; }\n    for (var _i = 0, appRoutes_1 = appRoutes; _i < appRoutes_1.length; _i++) {\n        var route = appRoutes_1[_i];\n        if (route.id === id) {\n            return route;\n        }\n        if ((_a = route.children) === null || _a === void 0 ? void 0 : _a.length) {\n            var matchingRoute = findRouteForId(id, route.children);\n            if (matchingRoute) {\n                return matchingRoute;\n            }\n        }\n    }\n    return null;\n}\nvar breadcrumbNameMap = {\n    \'/projects\': \'Projects\',\n};\nvar BreadcrumbLink = function (props) {\n    return (react.createElement(Link/* default */.Z, SiteHeader_assign({}, props, { component: dist/* Link */.rU })));\n};\nvar SiteHeader = function () {\n    var matches = (0,react_router_dist/* useMatches */.SN)();\n    var routeMatches = matches.reduce(function (routeMatches, match) {\n        var route = findRouteForId(match.id);\n        if (route && !route.index && route.id !== \'home\') {\n            routeMatches.push({\n                route: route,\n                match: match,\n            });\n        }\n        return routeMatches;\n    }, []);\n    return (react.createElement("header", null, routeMatches.length > 0 ? (react.createElement(Breadcrumbs/* default */.Z, { separator: "\\u203A" },\n        react.createElement(BreadcrumbLink, { underline: "hover", color: "inherit", to: "/" }, "Home"),\n        routeMatches.map(function (_a, index) {\n            var _b;\n            var route = _a.route, match = _a.match;\n            var last = index === routeMatches.length - 1;\n            var to = match.pathname;\n            var title = (_b = route === null || route === void 0 ? void 0 : route.getBreadcrumbTitle) === null || _b === void 0 ? void 0 : _b.call(route, match.params);\n            return last ? (react.createElement(Typography/* default */.Z, { color: "text.primary", key: to }, title)) : (react.createElement(BreadcrumbLink, { underline: "hover", color: "inherit", to: to, key: to }, title));\n        }))) : null));\n};\n\n;// CONCATENATED MODULE: ./src/components/SiteLayout.tsx\n\n\n\nvar SiteLayout = function () {\n    return (react.createElement("div", null,\n        react.createElement(SiteHeader, null),\n        react.createElement(react_router_dist/* Outlet */.j3, null)));\n};\n\n;// CONCATENATED MODULE: ./src/index.tsx\n\n\n\n\n\n\n\n\n\ninitPersist();\nvar src_router = (0,dist/* createBrowserRouter */.aj)([\n    {\n        element: react.createElement(SiteLayout, null),\n        children: routes,\n    },\n], {\n    basename: "//turnerhayes.github.io/house-todo" || 0,\n});\nvar root = (0,client/* createRoot */.s)(document.getElementById("app"));\nroot.render((react.createElement(react.StrictMode, null,\n    react.createElement(es/* Provider */.zt, { store: store },\n        react.createElement(react_router_dist/* RouterProvider */.pG, { router: src_router })))));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxPQUFHLENBQ04sQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7QUNYNkI7QUFDd0M7QUFDaEM7QUFDTztBQUV2QjtBQUNlO0FBQ1E7QUFDTztBQUNuQjtBQUdsQyxXQUFXLEVBQUUsQ0FBQztBQUVkLElBQU0sVUFBTSxHQUFHLG9DQUFtQixDQUFDO0lBQ2pDO1FBQ0UsT0FBTyxFQUFFLG9CQUFDLFVBQVUsT0FBRztRQUN2QixRQUFRLEVBQUUsTUFBTTtLQUNqQjtDQUNGLEVBQ0M7SUFDRSxRQUFRLEVBQUUsb0NBQTJCLElBQUksQ0FBUztDQUNuRCxDQUNGLENBQUM7QUFFRixJQUFNLElBQUksR0FBRyw0QkFBVSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFFLENBQUMsQ0FBQztBQUV6RCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQ1Ysb0JBQUMsZ0JBQWdCO0lBQ2Ysb0JBQUMsbUJBQVEsSUFBQyxLQUFLLEVBQUUsS0FBSztRQUNwQixvQkFBQyx3Q0FBYyxJQUFDLE1BQU0sRUFBRSxVQUFNLEdBQUksQ0FDekIsQ0FDTSxDQUNwQixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL3N0b3JlL3JlZHVjZXJzL3Byb2plY3RzLnRzPzEwNGYiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9zdG9yZS9zdG9yZS50cz9iODUwIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvc3RvcmUvcGVyc2lzdC50cz8zNTkyIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvc3RvcmUvaG9va3MudHM/NjY1YyIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvUHJvamVjdC9BZGRTdGVwRm9ybS50c3g/OThkOSIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvUHJvamVjdC9BZGRTdGVwRGlhbG9nLnRzeD8wMjU3Iiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0L05vUHJvamVjdC50c3g/MTc3MCIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvUmVvcmRlcmFibGVMaXN0L1Jlb3JkZXJhYmxlTGlzdC50c3g/NDBhYiIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvUHJvamVjdC9SZW9yZGVyYWJsZVN0ZXBMaXN0LnRzeD9hZTc2Iiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0L1Byb2plY3QudHN4PzZhZjYiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL05ld1Byb2plY3RGb3JtLnRzeD80ODY1Iiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0TGlzdC50c3g/OTUxNCIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL3N0b3JlL3NlbGVjdG9ycy9wcm9qZWN0cy50cz8xMmUyIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Ib21lL0hvbWUudHN4PzhlNTciLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9yb3V0ZXMudHN4PzY3MDciLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL1NpdGVIZWFkZXIvU2l0ZUhlYWRlci50c3g/MmE3YiIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvU2l0ZUxheW91dC50c3g/NTY4ZCIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2luZGV4LnRzeD9kOTg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcblxuZXhwb3J0IHR5cGUgU3RlcCA9IHN0cmluZztcblxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGVwczogU3RlcFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2plY3RzU3RhdGUge1xuICBwcm9qZWN0czogUHJvamVjdFtdO1xufVxuXG5jb25zdCBpbml0aWFsU3RhdGU6IFByb2plY3RzU3RhdGUgPSB7XG4gIHByb2plY3RzOiBbXSxcbn1cblxuY29uc3QgcHJvamVjdHNTbGljZSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ3Byb2plY3RzJyxcbiAgaW5pdGlhbFN0YXRlLFxuICByZWR1Y2Vyczoge1xuICAgIGluaXQ6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFByb2plY3RbXT4pID0+IHtcbiAgICAgIHN0YXRlLnByb2plY3RzLnB1c2goLi4uYWN0aW9uLnBheWxvYWQpO1xuICAgIH0sXG4gICAgYWRkUHJvamVjdDogKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248UHJvamVjdD4pID0+IHtcbiAgICAgIHN0YXRlLnByb2plY3RzLnB1c2goYWN0aW9uLnBheWxvYWQpO1xuICAgIH0sXG4gICAgdXBkYXRlUHJvamVjdDogKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248UHJvamVjdD4pID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RJbmRleCA9IHN0YXRlLnByb2plY3RzLmZpbmRJbmRleCgocHJvamVjdCkgPT4gcHJvamVjdC5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaWQpO1xuICAgICAgaWYgKHByb2plY3RJbmRleCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9qZWN0ICR7YWN0aW9uLnBheWxvYWQuaWR9IGRvZXMgbm90IGV4aXN0YCk7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLnByb2plY3RzW3Byb2plY3RJbmRleF0gPSB7XG4gICAgICAgIC4uLnN0YXRlLnByb2plY3RzW3Byb2plY3RJbmRleF0sXG4gICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkLFxuICAgICAgfTtcbiAgICB9LFxuICAgIGFkZFN0ZXA6IChzdGF0ZSwgeyBwYXlsb2FkOiB7IHByb2plY3RJZCwgc3RlcCwgfSB9OlxuICAgICAgUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgICAgICBzdGVwOiBTdGVwO1xuICAgICAgfT5cbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3QgPSBzdGF0ZS5wcm9qZWN0cy5maW5kKFxuICAgICAgICAocHJvamVjdCkgPT4gcHJvamVjdC5pZCA9PT0gcHJvamVjdElkKTtcbiAgICAgIGlmICghcHJvamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByb2plY3Quc3RlcHMucHVzaChzdGVwKTtcbiAgICB9LFxuICAgIHNldFN0ZXBzOiAoc3RhdGUsIHsgcGF5bG9hZDogeyBwcm9qZWN0SWQsIHN0ZXBzIH0gfTogUGF5bG9hZEFjdGlvbjx7XG4gICAgICBwcm9qZWN0SWQ6IFN0cmluZztcbiAgICAgIHN0ZXBzOiBTdGVwW107XG4gICAgfT4pID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3QgPSBzdGF0ZS5wcm9qZWN0cy5maW5kKChwcm9qZWN0KSA9PiBwcm9qZWN0LmlkID09PSBwcm9qZWN0SWQpO1xuXG4gICAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcm9qZWN0LnN0ZXBzID0gc3RlcHM7XG4gICAgfVxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCB7IGluaXQsIGFkZFByb2plY3QsIHVwZGF0ZVByb2plY3QsIGFkZFN0ZXAsIHNldFN0ZXBzIH0gPSBwcm9qZWN0c1NsaWNlLmFjdGlvbnM7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyID0gcHJvamVjdHNTbGljZS5yZWR1Y2VyOyIsImltcG9ydCB7IEFjdGlvbiwgTWlkZGxld2FyZSB9IGZyb20gXCJyZWR1eFwiO1xuaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuXG5pbXBvcnQgeyByZWR1Y2VyIGFzIHByb2plY3RzUmVkdWNlciB9IGZyb20gXCIuL3JlZHVjZXJzL3Byb2plY3RzXCI7XG5cbmNvbnN0IGxvZ01pZGRsZXdhcmU6IE1pZGRsZXdhcmUgPSBzdG9yZSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gIGNvbnNvbGUubG9nKCdkaXNwYXRjaGluZyBhY3Rpb24nLCBhY3Rpb24pO1xuICByZXR1cm4gbmV4dChhY3Rpb24pO1xufTtcblxuY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XG4gIHJlZHVjZXI6IHtcbiAgICBwcm9qZWN0czogcHJvamVjdHNSZWR1Y2VyLFxuICB9LFxuICBtaWRkbGV3YXJlOiBbXG4gICAgbG9nTWlkZGxld2FyZSxcbiAgXVxufSk7XG5cbmV4cG9ydCB0eXBlIFJvb3RTdGF0ZSA9IFJldHVyblR5cGU8dHlwZW9mIHN0b3JlLmdldFN0YXRlPjtcblxuZXhwb3J0IHR5cGUgQXBwRGlzcGF0Y2ggPSB0eXBlb2Ygc3RvcmUuZGlzcGF0Y2g7XG5cbmV4cG9ydCB7IHN0b3JlIH07IiwiaW1wb3J0ICogYXMgbG9jYWxmb3JhZ2UgZnJvbSBcImxvY2FsZm9yYWdlXCI7XG5cbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9yZWR1Y2Vycy9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IGluaXQgYXMgaW5pdFByb2plY3RzIH0gZnJvbSBcIi4vcmVkdWNlcnMvcHJvamVjdHNcIjtcblxuY29uc3QgU1RPUkVfS0VZID0gXCJSRURVWF9TVE9SRVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBlcnNpc3RlZFN0YXRlIHtcbiAgcHJvamVjdHM6IFByb2plY3RbXTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFBlcnNpc3RlZFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gYXdhaXQgbG9jYWxmb3JhZ2UuZ2V0SXRlbTxQZXJzaXN0ZWRTdGF0ZT4oU1RPUkVfS0VZKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0UGVyc2lzdCA9ICgpID0+IHtcbiAgc3RvcmUuc3Vic2NyaWJlKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgcGVyc2lzdGVkU3RhdGUgPSB7XG4gICAgICBwcm9qZWN0czogc3RhdGUucHJvamVjdHMucHJvamVjdHMsXG4gICAgfTtcbiAgICBhd2FpdCBsb2NhbGZvcmFnZS5zZXRJdGVtKFNUT1JFX0tFWSwgcGVyc2lzdGVkU3RhdGUpO1xuICB9KTtcbn07XG5cbmdldFBlcnNpc3RlZFN0YXRlKCkudGhlbigoc3RvcmVkU3RhdGUpID0+IHtcbiAgaWYgKCFzdG9yZWRTdGF0ZT8ucHJvamVjdHM/Lmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzdG9yZS5kaXNwYXRjaChpbml0UHJvamVjdHMoc3RvcmVkU3RhdGUucHJvamVjdHMpKTtcbn0pO1xuIiwiaW1wb3J0IHsgVHlwZWRVc2VTZWxlY3Rvckhvb2ssIHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHR5cGUgeyBSb290U3RhdGUsIEFwcERpc3BhdGNoIH0gZnJvbSAnLi9zdG9yZSdcblxuZXhwb3J0IGNvbnN0IHVzZUFwcERpc3BhdGNoOiAoKSA9PiBBcHBEaXNwYXRjaCA9IHVzZURpc3BhdGNoO1xuZXhwb3J0IGNvbnN0IHVzZUFwcFNlbGVjdG9yOiBUeXBlZFVzZVNlbGVjdG9ySG9vazxSb290U3RhdGU+ID0gdXNlU2VsZWN0b3I7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBGb3JtIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IFN0YWNrLCBUZXh0RmllbGQgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuXG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4uLy4uL3N0b3JlL3JlZHVjZXJzL3Byb2plY3RzXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBBZGRTdGVwRm9ybVBhcmFtcyB7XG4gIHByb2plY3Q6IFByb2plY3Q7XG4gIG9uU3VibWl0PzogUmVhY3QuRm9ybUV2ZW50SGFuZGxlcjxIVE1MRm9ybUVsZW1lbnQ+O1xufVxuXG5cbmV4cG9ydCBjb25zdCBBZGRTdGVwRm9ybSA9ICh7IHByb2plY3QsIG9uU3VibWl0IH06IEFkZFN0ZXBGb3JtUGFyYW1zKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEZvcm0gbWV0aG9kPVwicG9zdFwiIGFjdGlvbj17YC9wcm9qZWN0cy8ke3Byb2plY3QuaWR9L3N0ZXBgfSBvblN1Ym1pdD17b25TdWJtaXR9PlxuICAgICAgPFN0YWNrPlxuICAgICAgICA8VGV4dEZpZWxkIG5hbWU9XCJzdGVwVGV4dFwiIGxhYmVsPVwiU3RlcFwiIGF1dG9Gb2N1cz17dHJ1ZX0gLz5cbiAgICAgIDwvU3RhY2s+XG4gICAgPC9Gb3JtPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dUaXRsZSwgRGlhbG9nQ29udGVudCwgRGlhbG9nQWN0aW9ucywgRGlhbG9nUHJvcHMsIEJ1dHRvbiB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCJcblxuaW1wb3J0IHsgQWRkU3RlcEZvcm0sIEFkZFN0ZXBGb3JtUGFyYW1zIH0gZnJvbSBcIi4vQWRkU3RlcEZvcm1cIjtcblxuZXhwb3J0IGNvbnN0IEFkZFN0ZXBEaWFsb2cgPSAoeyBwcm9qZWN0LCBvcGVuLCBvblN1Ym1pdCB9OiBBZGRTdGVwRm9ybVBhcmFtcyAmIERpYWxvZ1Byb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtvcGVufT5cbiAgICAgIDxEaWFsb2dUaXRsZT5cbiAgICAgICAgQWRkIGEgc3RlcFxuICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICA8QWRkU3RlcEZvcm0gcHJvamVjdD17cHJvamVjdH0gb25TdWJtaXQ9e29uU3VibWl0fSAvPlxuICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgPERpYWxvZ0FjdGlvbnM+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiPkNhbmNlbDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB2YXJpYW50PVwiY29udGFpbmVkXCI+QWRkPC9CdXR0b24+XG4gICAgICA8L0RpYWxvZ0FjdGlvbnM+XG4gICAgPC9EaWFsb2c+XG4gIClcbn07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBOb1Byb2plY3QgPSAoKSA9PiB7XG4gIHJldHVybiAoPGRpdj5cbiAgICBObyBwcm9qZWN0IGZvdW5kXG4gIDwvZGl2Pik7XG59OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uLCBJY29uQnV0dG9uLCBMaXN0LCBMaXN0SXRlbSwgTGlzdEl0ZW1JY29uLCBTdGFjayB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgeyBBcnJvd0Ryb3BEb3duLCBBcnJvd0Ryb3BVcCB9IGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW9yZGVyYWJsZUxpc3Q8VD4oXG4gIHtcbiAgICBpdGVtcyxcbiAgICBjaGlsZHJlbixcbiAgICBvblJlb3JkZXIsXG4gIH06IHtcbiAgICBpdGVtczogVFtdO1xuICAgIGNoaWxkcmVuOiAoaXRlbTogVCkgPT4gUmVhY3QuUmVhY3RFbGVtZW50O1xuICAgIG9uUmVvcmRlcjogKHJlb3JkZXJlZEl0ZW1zOiBUW10pID0+IHZvaWQ7XG4gIH0pIHtcblxuICBjb25zdCBtb3ZlVXAgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgaW5kZXhTdHJpbmcgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXRbXCJpbmRleFwiXTtcbiAgICBpZiAoIWluZGV4U3RyaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGluZGV4IGRhdGEgc3BlY2lmaWVkIG9uIHJlb3JkZXIgdXAgYnV0dG9uJyk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaW5kZXhTdHJpbmcsIDEwKTtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1vdmUgaXRlbSB1cDsgaXQgaXMgYWxyZWFkeSBhdCB0aGUgdG9wJyk7XG4gICAgfVxuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gaXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG5vdCBpbiB0aGUgbGlzdGApO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBJdGVtcyA9IFsuLi5pdGVtc107XG4gICAgY29uc3QgaXRlbVRvTW92ZSA9IHRlbXBJdGVtc1tpbmRleF07XG4gICAgdGVtcEl0ZW1zW2luZGV4XSA9IHRlbXBJdGVtc1tpbmRleCAtIDFdO1xuICAgIHRlbXBJdGVtc1tpbmRleCAtIDFdID0gaXRlbVRvTW92ZTtcbiAgICBvblJlb3JkZXIodGVtcEl0ZW1zKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG1vdmVEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGluZGV4U3RyaW5nID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0W1wiaW5kZXhcIl07XG4gICAgaWYgKCFpbmRleFN0cmluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBpbmRleCBkYXRhIHNwZWNpZmllZCBvbiByZW9yZGVyIHVwIGJ1dHRvbicpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGluZGV4U3RyaW5nLCAxMCk7XG4gICAgaWYgKGluZGV4ID49IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1vdmUgaXRlbSBkb3duOyBpdCBpcyBhbHJlYWR5IGF0IHRoZSBib3R0b20nKTtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggJHtpbmRleH0gaXMgbm90IGluIHRoZSBsaXN0YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcEl0ZW1zID0gWy4uLml0ZW1zXTtcbiAgICBjb25zdCBpdGVtVG9Nb3ZlID0gdGVtcEl0ZW1zW2luZGV4XTtcbiAgICB0ZW1wSXRlbXNbaW5kZXhdID0gdGVtcEl0ZW1zW2luZGV4ICsgMV07XG4gICAgdGVtcEl0ZW1zW2luZGV4ICsgMV0gPSBpdGVtVG9Nb3ZlO1xuICAgIG9uUmVvcmRlcih0ZW1wSXRlbXMpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8TGlzdD5cbiAgICAgIHtcbiAgICAgICAgaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxMaXN0SXRlbSBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIDxTdGFjaz5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBzaXplPVwic21hbGxcIiBvbkNsaWNrPXttb3ZlVXB9IGRhdGEtaW5kZXg9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgPEFycm93RHJvcFVwIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleCA8IGl0ZW1zLmxlbmd0aCAtIDEgJiYgKFxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gc2l6ZT1cInNtYWxsXCIgb25DbGljaz17bW92ZURvd259IGRhdGEtaW5kZXg9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgPEFycm93RHJvcERvd24gLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICB7Y2hpbGRyZW4oaXRlbSl9XG4gICAgICAgICAgPC9MaXN0SXRlbT5cbiAgICAgICAgKSlcbiAgICAgIH1cbiAgICA8L0xpc3Q+XG4gICk7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN0ZXAgfSBmcm9tIFwiLi4vLi4vc3RvcmUvcmVkdWNlcnMvcHJvamVjdHNcIjtcbmltcG9ydCB7IFJlb3JkZXJhYmxlTGlzdCB9IGZyb20gXCIuLi9SZW9yZGVyYWJsZUxpc3QvUmVvcmRlcmFibGVMaXN0XCI7XG5pbXBvcnQgeyBMaXN0SXRlbVRleHQgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVvcmRlcmFibGVTdGVwTGlzdCh7XG4gIHN0ZXBzLFxuICBvblJlb3JkZXIsXG59OiB7XG4gIHN0ZXBzOiBTdGVwW107XG4gIG9uUmVvcmRlcjogKHJlb3JkZXJlZFN0ZXBzOiBTdGVwW10pID0+IHZvaWQ7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPFJlb3JkZXJhYmxlTGlzdCBpdGVtcz17c3RlcHN9IG9uUmVvcmRlcj17b25SZW9yZGVyfT5cbiAgICAgIHtcbiAgICAgICAgKHN0ZXA6IFN0ZXApID0+IChcbiAgICAgICAgICA8TGlzdEl0ZW1UZXh0PlxuICAgICAgICAgICAge3N0ZXB9XG4gICAgICAgICAgPC9MaXN0SXRlbVRleHQ+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICA8L1Jlb3JkZXJhYmxlTGlzdD5cbiAgKTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgc2hhbGxvd0VxdWFsIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBCdXR0b24sIFN0YWNrLCBUeXBvZ3JhcGh5IH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbmltcG9ydCB7IHVzZUFwcERpc3BhdGNoLCB1c2VBcHBTZWxlY3RvciB9IGZyb20gXCIuLi8uLi9zdG9yZS9ob29rc1wiO1xuaW1wb3J0IHsgUHJvamVjdCwgU3RlcCwgc2V0U3RlcHMsIHVwZGF0ZVByb2plY3QgfSBmcm9tIFwiLi4vLi4vc3RvcmUvcmVkdWNlcnMvcHJvamVjdHNcIjtcbmltcG9ydCB7IERyYWdnYWJsZVN0ZXBMaXN0IH0gZnJvbSBcIi4vRHJhZ2dhYmxlU3RlcExpc3RcIjtcbmltcG9ydCB7IEFkZFN0ZXBEaWFsb2cgfSBmcm9tIFwiLi9BZGRTdGVwRGlhbG9nXCI7XG5pbXBvcnQgeyBOb1Byb2plY3QgfSBmcm9tIFwiLi9Ob1Byb2plY3RcIjtcbmltcG9ydCB7IFJlb3JkZXJhYmxlU3RlcExpc3QgfSBmcm9tIFwiLi9SZW9yZGVyYWJsZVN0ZXBMaXN0XCI7XG5cblxuY29uc3QgUHJvamVjdCA9ICgpID0+IHtcbiAgY29uc3QgW2FkZFN0ZXBEaWFsb2dJc09wZW4sIHNldEFkZFN0ZXBEaWFsb2dJc09wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcERpc3BhdGNoKCk7XG4gIGNvbnN0IHsgcHJvamVjdElkIH0gPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgb3BlbkFkZFN0ZXBEaWFsb2dIYW5kbGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEFkZFN0ZXBEaWFsb2dJc09wZW4odHJ1ZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVBZGRTdGVwRm9ybVN1Ym1pdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRBZGRTdGVwRGlhbG9nSXNPcGVuKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIGlmICghcHJvamVjdElkKSB7XG4gICAgcmV0dXJuICg8Tm9Qcm9qZWN0IC8+KTtcbiAgfVxuXG4gIGNvbnN0IHByb2plY3QgPSB1c2VBcHBTZWxlY3RvcihcbiAgICAoc3RhdGUpID0+IHN0YXRlLnByb2plY3RzLnByb2plY3RzLmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IHByb2plY3RJZCksXG4gICAgKHByb2plY3QxLCBwcm9qZWN0MikgPT4ge1xuICAgICAgaWYgKHByb2plY3QxID09PSBwcm9qZWN0Mikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9qZWN0MSAmJiBwcm9qZWN0Mikge1xuICAgICAgICBpZiAocHJvamVjdDEuaWQgIT09IHByb2plY3QyLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9qZWN0MS5uYW1lICE9PSBwcm9qZWN0Mi5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShwcm9qZWN0MS5zdGVwcykgIT09IEpTT04uc3RyaW5naWZ5KHByb2plY3QyLnN0ZXBzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCghcHJvamVjdDEgJiYgcHJvamVjdDIpIHx8IChwcm9qZWN0MSAmJiBwcm9qZWN0MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICApO1xuXG4gIGlmICghcHJvamVjdCkge1xuICAgIHJldHVybiAoPE5vUHJvamVjdCAvPik7XG4gIH1cblxuICBjb25zdCBvblJlb3JkZXIgPSAocmVvcmRlcmVkU3RlcHM6IFN0ZXBbXSk6IHZvaWQgPT4ge1xuICAgIGRpc3BhdGNoKHVwZGF0ZVByb2plY3Qoe1xuICAgICAgLi4ucHJvamVjdCxcbiAgICAgIHN0ZXBzOiByZW9yZGVyZWRTdGVwcyxcbiAgICB9KSlcbiAgICAvLyBkaXNwYXRjaChzZXRTdGVwcyh7XG4gICAgLy8gICBwcm9qZWN0SWQ6IHByb2plY3QuaWQsXG4gICAgLy8gICBzdGVwczogcmVvcmRlcmVkU3RlcHMsXG4gICAgLy8gfSkpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN0YWNrPlxuICAgICAgPGhlYWRlcj5cbiAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImgyXCI+XG4gICAgICAgICAge3Byb2plY3QubmFtZX1cbiAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgPC9oZWFkZXI+XG4gICAgICA8QWRkU3RlcERpYWxvZ1xuICAgICAgICBwcm9qZWN0PXtwcm9qZWN0fVxuICAgICAgICBvcGVuPXthZGRTdGVwRGlhbG9nSXNPcGVufVxuICAgICAgICBvblN1Ym1pdD17aGFuZGxlQWRkU3RlcEZvcm1TdWJtaXR9XG4gICAgICAvPlxuICAgICAgPFN0YWNrPlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJjb250YWluZWRcIiBvbkNsaWNrPXtvcGVuQWRkU3RlcERpYWxvZ0hhbmRsZXJ9PlxuICAgICAgICAgIEFkZCBzdGVwXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8UmVvcmRlcmFibGVTdGVwTGlzdCBzdGVwcz17cHJvamVjdC5zdGVwc30gb25SZW9yZGVyPXtvblJlb3JkZXJ9IC8+XG4gICAgICAgIHsvKiA8RHJhZ2dhYmxlU3RlcExpc3QgcHJvamVjdD17cHJvamVjdH0gLz4gKi99XG4gICAgICA8L1N0YWNrPlxuICAgIDwvU3RhY2s+XG4gICk7XG59O1xuXG5leHBvcnQgeyBQcm9qZWN0IH07XG4iLCJpbXBvcnQgeyBCdXR0b24sIFN0YWNrLCBUZXh0RmllbGQgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBGb3JtIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IGNvbnN0IE5ld1Byb2plY3RGb3JtID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxGb3JtIG1ldGhvZD1cInBvc3RcIiBhY3Rpb249XCIvcHJvamVjdHNcIj5cbiAgICAgIDxTdGFjayBzcGFjaW5nPXsxfT5cbiAgICAgICAgPFRleHRGaWVsZCBuYW1lPVwibmFtZVwiIGxhYmVsPVwiTmFtZVwiIC8+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIHR5cGU9XCJzdWJtaXRcIj5cbiAgICAgICAgICBDcmVhdGVcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L1N0YWNrPlxuICAgIDwvRm9ybT5cbiAgKTtcbn07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMaXN0LCBCdXR0b24sIExpc3RJdGVtQnV0dG9uLCBMaXN0SXRlbVRleHQsIEFjY29yZGlvbiwgQWNjb3JkaW9uU3VtbWFyeSwgQWNjb3JkaW9uRGV0YWlscywgU3RhY2sgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbmltcG9ydCB7IHVzZUFwcERpc3BhdGNoLCB1c2VBcHBTZWxlY3RvciB9IGZyb20gXCIuLi9zdG9yZS9ob29rc1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdCB9IGZyb20gXCIuLi9zdG9yZS9yZWR1Y2Vycy9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgTmV3UHJvamVjdEZvcm0gfSBmcm9tIFwiLi9OZXdQcm9qZWN0Rm9ybVwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdExpc3QgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcbiAgY29uc3QgcHJvamVjdHMgPSB1c2VBcHBTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLnByb2plY3RzLnByb2plY3RzKTtcbiAgY29uc3Qgb25BZGRDbGljayA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChhZGRQcm9qZWN0KHtcbiAgICAgIGlkOiBgcHJvamVjdF8ke3Byb2plY3RzLmxlbmd0aCArIDF9YCxcbiAgICAgIG5hbWU6IGBQcm9qZWN0ICR7cHJvamVjdHMubGVuZ3RoICsgMX1gLFxuICAgICAgc3RlcHM6IFtdLFxuICAgIH0pKTtcbiAgfSwgW3Byb2plY3RzXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8U3RhY2s+XG4gICAgICA8QWNjb3JkaW9uPlxuICAgICAgICA8QWNjb3JkaW9uU3VtbWFyeT5BZGQgcHJvamVjdDwvQWNjb3JkaW9uU3VtbWFyeT5cbiAgICAgICAgPEFjY29yZGlvbkRldGFpbHM+XG4gICAgICAgICAgPE5ld1Byb2plY3RGb3JtIC8+XG4gICAgICAgIDwvQWNjb3JkaW9uRGV0YWlscz5cbiAgICAgIDwvQWNjb3JkaW9uPlxuICAgICAgPExpc3Q+XG4gICAgICAgIHtwcm9qZWN0cy5tYXAoKHByb2plY3QsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPExpc3RJdGVtQnV0dG9uIGtleT17aW5kZXh9IGNvbXBvbmVudD17TGlua30gdG89e2AvcHJvamVjdHMvJHtwcm9qZWN0LmlkfWB9PlxuICAgICAgICAgICAgPExpc3RJdGVtVGV4dCBwcmltYXJ5PXtwcm9qZWN0Lm5hbWV9IC8+XG4gICAgICAgICAgPC9MaXN0SXRlbUJ1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L0xpc3Q+XG4gICAgPC9TdGFjaz5cbiAgKTtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuaW1wb3J0IHsgUm9vdFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvamVjdHMgPSBjcmVhdGVTZWxlY3RvcihcbiAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnByb2plY3RzLFxuICAocHJvamVjdHMpID0+IHByb2plY3RzLnByb2plY3RzXG4pO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvamVjdEJ5SWQgPSBjcmVhdGVTZWxlY3RvcihcbiAgZ2V0UHJvamVjdHMsXG4gIChzdGF0ZTogUm9vdFN0YXRlLCBpZDogc3RyaW5nKSA9PiBpZCxcbiAgKHByb2plY3RzLCBpZCkgPT4gcHJvamVjdHMuZmluZCgocHJvamVjdCkgPT4gcHJvamVjdC5pZCA9PT0gaWQpXG4pOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RhY2ssIExpbmsgYXMgTXVpTGluayB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IGNvbnN0IEhvbWUgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFN0YWNrPlxuICAgICAgPE11aUxpbmsgY29tcG9uZW50PXtMaW5rfSB0bz1cIi9wcm9qZWN0c1wiPlxuICAgICAgICBQcm9qZWN0c1xuICAgICAgPC9NdWlMaW5rPlxuICAgIDwvU3RhY2s+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQYXJhbXMsIFJvdXRlT2JqZWN0IH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gJy4vY29tcG9uZW50cy9Qcm9qZWN0L1Byb2plY3QnO1xuaW1wb3J0IHsgUHJvamVjdExpc3QgfSBmcm9tIFwiLi9jb21wb25lbnRzL1Byb2plY3RMaXN0XCI7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gXCIuL3N0b3JlL3N0b3JlXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0LCBhZGRTdGVwIH0gZnJvbSAnLi9zdG9yZS9yZWR1Y2Vycy9wcm9qZWN0cyc7XG5pbXBvcnQgeyBnZXRQcm9qZWN0QnlJZCB9IGZyb20gXCIuL3N0b3JlL3NlbGVjdG9ycy9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgdXNlQXBwU2VsZWN0b3IgfSBmcm9tIFwiLi9zdG9yZS9ob29rc1wiO1xuaW1wb3J0IHsgSG9tZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvSG9tZS9Ib21lXCI7XG5cbmV4cG9ydCB0eXBlIEFwcFJvdXRlID0gUm91dGVPYmplY3QgJiB7XG4gIGdldEJyZWFkY3J1bWJUaXRsZT86IChwYXJhbXM6IFBhcmFtczxzdHJpbmc+IHwgbnVsbCkgPT4gUmVhY3QuUmVhY3ROb2RlO1xuICBjaGlsZHJlbj86IEFwcFJvdXRlW107XG59O1xuXG5jb25zdCBQcm9qZWN0RGV0YWlsQnJlYWRjcnVtYlRpdGxlID0gKHsgaWQgfTogeyBpZDogc3RyaW5nOyB9KSA9PiB7XG4gIGNvbnN0IHByb2plY3QgPSB1c2VBcHBTZWxlY3Rvcigoc3RhdGUpID0+IGdldFByb2plY3RCeUlkKHN0YXRlLCBpZCkpO1xuICBjb25zb2xlLmxvZygncHJvamVjdDonLCBwcm9qZWN0KTtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3Byb2plY3QgPyBwcm9qZWN0Lm5hbWUgOiAnLi4uJ31cbiAgICA8Lz5cbiAgKTtcbn07XG5cbmNvbnN0IHNsdWdpZnkgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15cXGRcXHddL2csICctJyk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm91dGVzOiBBcHBSb3V0ZVtdID0gW1xuICB7XG4gICAgaWQ6IFwiaG9tZVwiLFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIGVsZW1lbnQ6IDxIb21lIC8+XG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9wcm9qZWN0c1wiLFxuICAgIGlkOiBcInByb2plY3RzLXBhcmVudFwiLFxuICAgIGdldEJyZWFkY3J1bWJUaXRsZTogKCkgPT4ge1xuICAgICAgcmV0dXJuICdQcm9qZWN0cyc7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBpbmRleDogdHJ1ZSxcbiAgICAgICAgaWQ6IFwicHJvamVjdC1saXN0XCIsXG4gICAgICAgIGVsZW1lbnQ6IDxQcm9qZWN0TGlzdCAvPixcbiAgICAgICAgYWN0aW9uOiBhc3luYyAoeyByZXF1ZXN0IH0pID0+IHtcbiAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZm9ybURhdGEuZ2V0KCduYW1lJykgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZSgnJywgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlkID0gc2x1Z2lmeShuYW1lKTtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFkZFByb2plY3Qoe1xuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgc3RlcHM6IFtdLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0KGAvcHJvamVjdHMvJHtpZH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoJycsIHsgc3RhdHVzOiA0MDUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXRoOiBcIjpwcm9qZWN0SWRcIixcbiAgICAgICAgaWQ6IFwicHJvamVjdC1kZXRhaWxcIixcbiAgICAgICAgZWxlbWVudDogPFByb2plY3QgLz4sXG4gICAgICAgIGdldEJyZWFkY3J1bWJUaXRsZTogKHBhcmFtcykgPT4ge1xuICAgICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBnZXQgYnJlYWRjcnVtYiB0aXRsZSBmb3IgcHJvamVjdCBkZXRhaWwgcGFnZTogbm8gcGFyYW1zIHByb3ZpZGVkYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlkID0gcGFyYW1zLnByb2plY3RJZDtcbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBnZXQgYnJlYWRjcnVtYiB0aXRsZSBmb3IgcHJvamVjdCBkZXRhaWwgcGFnZTogbm8gcHJvamVjdCBJRCBwcm92aWRlZGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKDxQcm9qZWN0RGV0YWlsQnJlYWRjcnVtYlRpdGxlIGlkPXtpZH0gLz4pO1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHBhdGg6IFwic3RlcFwiLFxuICAgICAgICAgICAgaWQ6IFwic3RlcC1jaGFuZ2VcIixcbiAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKHsgcmVxdWVzdCwgcGFyYW1zIH0pID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gZm9ybURhdGEuZ2V0KFwic3RlcFRleHRcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdElkIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZSgnJywgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHN0b3JlLmdldFN0YXRlKCkucHJvamVjdHMucHJvamVjdHMuZmluZChcbiAgICAgICAgICAgICAgICAgIChwcm9qZWN0KSA9PiBwcm9qZWN0LmlkID09PSBwcm9qZWN0SWQpO1xuICAgICAgICAgICAgICAgIGlmICghcHJvamVjdCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKCcnLCB7IHN0YXR1czogNDA0IH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFkZFN0ZXAoeyBwcm9qZWN0SWQsIHN0ZXAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWRpcmVjdChgL3Byb2plY3RzLyR7cHJvamVjdElkfWApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKCcnLCB7IHN0YXR1czogNDA1IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuXTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExpbmssIFBhdGhNYXRjaCwgdXNlTG9jYXRpb24sIHVzZU1hdGNoZXMgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgQnJlYWRjcnVtYnMsIExpbmtQcm9wcyBhcyBNdWlMaW5rUHJvcHMsIExpbmsgYXMgTXVpTGluaywgVHlwb2dyYXBoeSB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5cblxuaW1wb3J0IHsgQXBwUm91dGUsIHJvdXRlcyB9IGZyb20gXCIuLi8uLi9yb3V0ZXNcIjtcblxuaW50ZXJmYWNlIFJvdXRlTWF0Y2gge1xuICByb3V0ZTogQXBwUm91dGU7XG4gIG1hdGNoOiAoUmV0dXJuVHlwZTx0eXBlb2YgdXNlTWF0Y2hlcz4pW251bWJlcl07XG59XG5cbmZ1bmN0aW9uIGZpbmRSb3V0ZUZvcklkKGlkOiBzdHJpbmcsIGFwcFJvdXRlczogQXBwUm91dGVbXSA9IHJvdXRlcyk6IEFwcFJvdXRlIHwgbnVsbCB7XG4gIGZvciAobGV0IHJvdXRlIG9mIGFwcFJvdXRlcykge1xuICAgIGlmIChyb3V0ZS5pZCA9PT0gaWQpIHtcbiAgICAgIHJldHVybiByb3V0ZTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nUm91dGUgPSBmaW5kUm91dGVGb3JJZChpZCwgcm91dGUuY2hpbGRyZW4pO1xuICAgICAgaWYgKG1hdGNoaW5nUm91dGUpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nUm91dGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBicmVhZGNydW1iTmFtZU1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgJy9wcm9qZWN0cyc6ICdQcm9qZWN0cycsXG59O1xuXG5pbnRlcmZhY2UgTGlua1JvdXRlclByb3BzIGV4dGVuZHMgTXVpTGlua1Byb3BzIHtcbiAgdG86IHN0cmluZztcbiAgcmVwbGFjZT86IGJvb2xlYW47XG59XG5cbmNvbnN0IEJyZWFkY3J1bWJMaW5rID0gKHByb3BzOiBMaW5rUm91dGVyUHJvcHMpID0+IHtcbiAgcmV0dXJuICg8TXVpTGluayB7Li4ucHJvcHN9IGNvbXBvbmVudD17TGlua30gLz4pO1xufVxuXG5leHBvcnQgY29uc3QgU2l0ZUhlYWRlciA9ICgpID0+IHtcbiAgY29uc3QgbWF0Y2hlcyA9IHVzZU1hdGNoZXMoKTtcblxuICBjb25zdCByb3V0ZU1hdGNoZXMgPSBtYXRjaGVzLnJlZHVjZSgocm91dGVNYXRjaGVzLCBtYXRjaCkgPT4ge1xuICAgIGNvbnN0IHJvdXRlID0gZmluZFJvdXRlRm9ySWQobWF0Y2guaWQpO1xuICAgIGlmIChyb3V0ZSAmJiAhcm91dGUuaW5kZXggJiYgcm91dGUuaWQgIT09ICdob21lJykge1xuICAgICAgcm91dGVNYXRjaGVzLnB1c2goe1xuICAgICAgICByb3V0ZSxcbiAgICAgICAgbWF0Y2gsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlTWF0Y2hlcztcbiAgfSwgW10gYXMgUm91dGVNYXRjaFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxoZWFkZXI+XG4gICAgICB7XG4gICAgICAgIHJvdXRlTWF0Y2hlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIDxCcmVhZGNydW1icyBzZXBhcmF0b3I9XCLigLpcIj5cbiAgICAgICAgICAgIDxCcmVhZGNydW1iTGluayB1bmRlcmxpbmU9XCJob3ZlclwiIGNvbG9yPVwiaW5oZXJpdFwiIHRvPVwiL1wiPlxuICAgICAgICAgICAgICBIb21lXG4gICAgICAgICAgICA8L0JyZWFkY3J1bWJMaW5rPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb3V0ZU1hdGNoZXMubWFwKCh7IHJvdXRlLCBtYXRjaCB9LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBpbmRleCA9PT0gcm91dGVNYXRjaGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgdG8gPSBtYXRjaC5wYXRobmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHJvdXRlPy5nZXRCcmVhZGNydW1iVGl0bGU/LihtYXRjaC5wYXJhbXMpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3QgPyAoXG4gICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjb2xvcj1cInRleHQucHJpbWFyeVwiIGtleT17dG99PlxuICAgICAgICAgICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxCcmVhZGNydW1iTGluayB1bmRlcmxpbmU9XCJob3ZlclwiIGNvbG9yPVwiaW5oZXJpdFwiIHRvPXt0b30ga2V5PXt0b30+XG4gICAgICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvQnJlYWRjcnVtYkxpbms+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L0JyZWFkY3J1bWJzPlxuICAgICAgICApIDogbnVsbFxuICAgICAgfVxuICAgIDwvaGVhZGVyPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2l0ZUhlYWRlciB9IGZyb20gXCIuL1NpdGVIZWFkZXIvU2l0ZUhlYWRlclwiO1xuaW1wb3J0IHsgT3V0bGV0IH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IGNvbnN0IFNpdGVMYXlvdXQgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxTaXRlSGVhZGVyIC8+XG4gICAgICA8T3V0bGV0IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlclJvdXRlciwgUm91dGVyUHJvdmlkZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG5cbmltcG9ydCBcIi4vc3R5bGVzLnNjc3NcIjtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZS9zdG9yZSc7XG5pbXBvcnQgeyBpbml0UGVyc2lzdCB9IGZyb20gJy4vc3RvcmUvcGVyc2lzdCc7XG5pbXBvcnQgeyBTaXRlTGF5b3V0IH0gZnJvbSAnLi9jb21wb25lbnRzL1NpdGVMYXlvdXQnO1xuaW1wb3J0IHsgcm91dGVzIH0gZnJvbSBcIi4vcm91dGVzXCI7XG5cblxuaW5pdFBlcnNpc3QoKTtcblxuY29uc3Qgcm91dGVyID0gY3JlYXRlQnJvd3NlclJvdXRlcihbXG4gIHtcbiAgICBlbGVtZW50OiA8U2l0ZUxheW91dCAvPixcbiAgICBjaGlsZHJlbjogcm91dGVzLFxuICB9LFxuXSxcbiAge1xuICAgIGJhc2VuYW1lOiBwcm9jZXNzLmVudi5XRUJBUFBfQkFTRU5BTUUgfHwgdW5kZWZpbmVkLFxuICB9XG4pO1xuXG5jb25zdCByb290ID0gY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSEpO1xuXG5yb290LnJlbmRlcigoXG4gIDxSZWFjdC5TdHJpY3RNb2RlPlxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgPFJvdXRlclByb3ZpZGVyIHJvdXRlcj17cm91dGVyfSAvPlxuICAgIDwvUHJvdmlkZXI+XG4gIDwvUmVhY3QuU3RyaWN0TW9kZT5cbikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6755\n')}},Q=>{Q.O(0,[216],(()=>(6755,Q(Q.s=6755)))),Q.O()}]);