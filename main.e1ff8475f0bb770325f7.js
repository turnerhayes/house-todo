"use strict";(self.webpackChunkhouse_todo=self.webpackChunkhouse_todo||[]).push([[179],{6755:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(9526);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(6397);\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(3277);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 13 modules\nvar es = __webpack_require__(2384);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(4470);\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js + 8 modules\nvar redux_toolkit_esm = __webpack_require__(5241);\n;// CONCATENATED MODULE: ./src/store/reducers/projects.ts\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\n\nvar initialState = {\n    projects: [],\n};\nvar projectsSlice = (0,redux_toolkit_esm/* createSlice */.oM)({\n    name: \'projects\',\n    initialState: initialState,\n    reducers: {\n        init: function (state, action) {\n            var _a;\n            (_a = state.projects).push.apply(_a, action.payload);\n        },\n        addProject: function (state, action) {\n            state.projects.push(action.payload);\n        },\n        updateProject: function (state, action) {\n            var projectIndex = state.projects.findIndex(function (project) { return project.id === action.payload.id; });\n            if (projectIndex < 0) {\n                throw new Error("Project ".concat(action.payload.id, " does not exist"));\n            }\n            state.projects[projectIndex] = __assign(__assign({}, state.projects[projectIndex]), action.payload);\n        },\n        addStep: function (state, _a) {\n            var _b = _a.payload, projectId = _b.projectId, step = _b.step;\n            var project = state.projects.find(function (project) { return project.id === projectId; });\n            if (!project) {\n                return;\n            }\n            project.steps.push(step);\n        },\n        setSteps: function (state, _a) {\n            var _b = _a.payload, projectId = _b.projectId, steps = _b.steps;\n            var project = state.projects.find(function (project) { return project.id === projectId; });\n            if (!project) {\n                return;\n            }\n            project.steps = steps;\n        }\n    },\n});\nvar init = (_a = projectsSlice.actions, _a.init), addProject = _a.addProject, updateProject = _a.updateProject, addStep = _a.addStep, setSteps = _a.setSteps;\nvar reducer = projectsSlice.reducer;\n\n;// CONCATENATED MODULE: ./src/store/store.ts\n\n\nvar logMiddleware = function (store) { return function (next) { return function (action) {\n    console.log(\'dispatching action\', action);\n    return next(action);\n}; }; };\nvar store = (0,redux_toolkit_esm/* configureStore */.xC)({\n    reducer: {\n        projects: reducer,\n    },\n    middleware: [\n        logMiddleware,\n    ]\n});\n\n\n// EXTERNAL MODULE: ./node_modules/localforage/dist/localforage.js\nvar localforage = __webpack_require__(1466);\n;// CONCATENATED MODULE: ./src/store/persist.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar STORE_KEY = "REDUX_STORE";\nvar getPersistedState = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, localforage.getItem(STORE_KEY)];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\nvar initPersist = function () {\n    store.subscribe(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var state, persistedState;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    state = store.getState();\n                    persistedState = {\n                        projects: state.projects.projects,\n                    };\n                    return [4 /*yield*/, localforage.setItem(STORE_KEY, persistedState)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); });\n};\ngetPersistedState().then(function (storedState) {\n    var _a;\n    if (!((_a = storedState === null || storedState === void 0 ? void 0 : storedState.projects) === null || _a === void 0 ? void 0 : _a.length)) {\n        return;\n    }\n    store.dispatch(init(storedState.projects));\n});\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Link/Link.js + 2 modules\nvar Link = __webpack_require__(907);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js + 3 modules\nvar Breadcrumbs = __webpack_require__(9364);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(9855);\n// EXTERNAL MODULE: ./node_modules/@remix-run/router/dist/router.js\nvar router = __webpack_require__(4290);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Stack/Stack.js + 2 modules\nvar Stack = __webpack_require__(3658);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button = __webpack_require__(8864);\n;// CONCATENATED MODULE: ./src/store/hooks.ts\n\nvar useAppDispatch = es/* useDispatch */.I0;\nvar useAppSelector = es/* useSelector */.v9;\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules\nvar Dialog = __webpack_require__(25);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(9480);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(8894);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules\nvar DialogActions = __webpack_require__(8463);\n// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 42 modules\nvar TextField = __webpack_require__(6991);\n;// CONCATENATED MODULE: ./src/components/Project/AddStepForm.tsx\n\n\n\nvar AddStepForm = function (_a) {\n    var project = _a.project, onSubmit = _a.onSubmit;\n    return (react.createElement(dist/* Form */.l0, { method: "post", action: "/projects/".concat(project.id, "/step"), onSubmit: onSubmit },\n        react.createElement(Stack/* default */.Z, null,\n            react.createElement(TextField/* default */.Z, { name: "stepText", label: "Step", autoFocus: true }))));\n};\n\n;// CONCATENATED MODULE: ./src/components/Project/AddStepDialog.tsx\n\n\n\nvar AddStepDialog = function (_a) {\n    var project = _a.project, open = _a.open, onSubmit = _a.onSubmit;\n    return (react.createElement(Dialog/* default */.Z, { open: open },\n        react.createElement(DialogTitle/* default */.Z, null, "Add a step"),\n        react.createElement(DialogContent/* default */.Z, null,\n            react.createElement(AddStepForm, { project: project, onSubmit: onSubmit })),\n        react.createElement(DialogActions/* default */.Z, null,\n            react.createElement(Button/* default */.Z, { variant: "contained" }, "Cancel"),\n            react.createElement(Button/* default */.Z, { type: "submit", variant: "contained" }, "Add"))));\n};\n\n;// CONCATENATED MODULE: ./src/components/Project/NoProject.tsx\n\nvar NoProject = function () {\n    return (react.createElement("div", null, "No project found"));\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/List/List.js + 1 modules\nvar List = __webpack_require__(1445);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItem/ListItem.js + 3 modules\nvar ListItem = __webpack_require__(8958);\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(2525);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/esm/ArrowDropUp.js\nvar ArrowDropUp = __webpack_require__(8816);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/esm/ArrowDropDown.js\nvar ArrowDropDown = __webpack_require__(9458);\n;// CONCATENATED MODULE: ./src/components/ReorderableList/ReorderableList.tsx\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n\n\nfunction ReorderableList(_a) {\n    var items = _a.items, children = _a.children, onReorder = _a.onReorder;\n    var moveUp = react.useCallback(function (event) {\n        var indexString = event.currentTarget.dataset["index"];\n        if (!indexString) {\n            throw new Error(\'No index data specified on reorder up button\');\n        }\n        var index = parseInt(indexString, 10);\n        if (index === 0) {\n            throw new Error(\'Cannot move item up; it is already at the top\');\n        }\n        if (index < 0 || index >= items.length) {\n            throw new Error("Index ".concat(index, " is not in the list"));\n        }\n        var tempItems = __spreadArray([], items, true);\n        var itemToMove = tempItems[index];\n        tempItems[index] = tempItems[index - 1];\n        tempItems[index - 1] = itemToMove;\n        onReorder(tempItems);\n    }, []);\n    var moveDown = react.useCallback(function (event) {\n        var indexString = event.currentTarget.dataset["index"];\n        if (!indexString) {\n            throw new Error(\'No index data specified on reorder up button\');\n        }\n        var index = parseInt(indexString, 10);\n        if (index >= items.length - 1) {\n            throw new Error(\'Cannot move item down; it is already at the bottom\');\n        }\n        if (index < 0 || index >= items.length) {\n            throw new Error("Index ".concat(index, " is not in the list"));\n        }\n        var tempItems = __spreadArray([], items, true);\n        var itemToMove = tempItems[index];\n        tempItems[index] = tempItems[index + 1];\n        tempItems[index + 1] = itemToMove;\n        onReorder(tempItems);\n    }, []);\n    return (react.createElement(List/* default */.Z, null, items.map(function (item, index) { return (react.createElement(ListItem/* default */.ZP, { key: index },\n        react.createElement(Stack/* default */.Z, null,\n            index > 0 && (react.createElement(IconButton/* default */.Z, { size: "small", onClick: moveUp, "data-index": index },\n                react.createElement(ArrowDropUp/* default */.Z, null))),\n            index < items.length - 1 && (react.createElement(IconButton/* default */.Z, { size: "small", onClick: moveDown, "data-index": index },\n                react.createElement(ArrowDropDown/* default */.Z, null)))),\n        children(item))); })));\n}\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemText/ListItemText.js + 1 modules\nvar ListItemText = __webpack_require__(5756);\n;// CONCATENATED MODULE: ./src/components/Project/ReorderableStepList.tsx\n\n\n\nfunction ReorderableStepList(_a) {\n    var steps = _a.steps, onReorder = _a.onReorder;\n    return (react.createElement(ReorderableList, { items: steps, onReorder: onReorder }, function (step) { return (react.createElement(ListItemText/* default */.Z, null, step)); }));\n}\n\n;// CONCATENATED MODULE: ./src/components/Project/Project.tsx\nvar Project_assign = (undefined && undefined.__assign) || function () {\n    Project_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Project_assign.apply(this, arguments);\n};\n\n\n\n\n\n\n\n\nvar Project = function () {\n    var _a = react.useState(false), addStepDialogIsOpen = _a[0], setAddStepDialogIsOpen = _a[1];\n    var dispatch = useAppDispatch();\n    var projectId = (0,react_router_dist/* useParams */.UO)().projectId;\n    var openAddStepDialogHandler = react.useCallback(function () {\n        setAddStepDialogIsOpen(true);\n    }, []);\n    var handleAddStepFormSubmit = react.useCallback(function () {\n        setAddStepDialogIsOpen(false);\n    }, []);\n    if (!projectId) {\n        return (react.createElement(NoProject, null));\n    }\n    var project = useAppSelector(function (state) { return state.projects.projects.find(function (_a) {\n        var id = _a.id;\n        return id === projectId;\n    }); }, function (project1, project2) {\n        if (project1 === project2) {\n            return true;\n        }\n        if (project1 && project2) {\n            if (project1.id !== project2.id) {\n                return false;\n            }\n            if (project1.name !== project2.name) {\n                return false;\n            }\n            if (JSON.stringify(project1.steps) !== JSON.stringify(project2.steps)) {\n                return false;\n            }\n        }\n        if ((!project1 && project2) || (project1 && project2)) {\n            return false;\n        }\n        return true;\n    });\n    if (!project) {\n        return (react.createElement(NoProject, null));\n    }\n    var onReorder = function (reorderedSteps) {\n        dispatch(updateProject(Project_assign(Project_assign({}, project), { steps: reorderedSteps })));\n        // dispatch(setSteps({\n        //   projectId: project.id,\n        //   steps: reorderedSteps,\n        // }));\n    };\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement("header", null,\n            react.createElement(Typography/* default */.Z, { variant: "h2" }, project.name)),\n        react.createElement(AddStepDialog, { project: project, open: addStepDialogIsOpen, onSubmit: handleAddStepFormSubmit }),\n        react.createElement(Stack/* default */.Z, null,\n            react.createElement(Button/* default */.Z, { variant: "contained", onClick: openAddStepDialogHandler }, "Add step"),\n            react.createElement(ReorderableStepList, { steps: project.steps, onReorder: onReorder }))));\n};\n\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Accordion/Accordion.js + 3 modules\nvar Accordion = __webpack_require__(9931);\n// EXTERNAL MODULE: ./node_modules/@mui/material/AccordionSummary/AccordionSummary.js + 1 modules\nvar AccordionSummary = __webpack_require__(4169);\n// EXTERNAL MODULE: ./node_modules/@mui/material/AccordionDetails/AccordionDetails.js + 1 modules\nvar AccordionDetails = __webpack_require__(4318);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemButton/ListItemButton.js\nvar ListItemButton = __webpack_require__(4527);\n;// CONCATENATED MODULE: ./src/components/NewProjectForm.tsx\n\n\n\nvar NewProjectForm = function () {\n    return (react.createElement(dist/* Form */.l0, { method: "post", action: "/projects" },\n        react.createElement(Stack/* default */.Z, { spacing: 1 },\n            react.createElement(TextField/* default */.Z, { name: "name", label: "Name" }),\n            react.createElement(Button/* default */.Z, { variant: "contained", type: "submit" }, "Create"))));\n};\n\n;// CONCATENATED MODULE: ./src/components/ProjectList.tsx\n\n\n\n\n\n\nvar ProjectList = function () {\n    var dispatch = useAppDispatch();\n    var projects = useAppSelector(function (state) { return state.projects.projects; });\n    var onAddClick = react.useCallback(function () {\n        dispatch(addProject({\n            id: "project_".concat(projects.length + 1),\n            name: "Project ".concat(projects.length + 1),\n            steps: [],\n        }));\n    }, [projects]);\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement(Accordion/* default */.Z, null,\n            react.createElement(AccordionSummary/* default */.Z, null, "Add project"),\n            react.createElement(AccordionDetails/* default */.Z, null,\n                react.createElement(NewProjectForm, null))),\n        react.createElement(List/* default */.Z, null, projects.map(function (project, index) { return (react.createElement(ListItemButton/* default */.Z, { key: index, component: dist/* Link */.rU, to: "/projects/".concat(project.id) },\n            react.createElement(ListItemText/* default */.Z, { primary: project.name }))); }))));\n};\n\n// EXTERNAL MODULE: ./node_modules/reselect/es/index.js + 1 modules\nvar reselect_es = __webpack_require__(3806);\n;// CONCATENATED MODULE: ./src/store/selectors/projects.ts\n\nvar getProjects = (0,reselect_es/* createSelector */.P1)(function (state) { return state.projects; }, function (projects) { return projects.projects; });\nvar getProjectById = (0,reselect_es/* createSelector */.P1)(getProjects, function (state, id) { return id; }, function (projects, id) { return projects.find(function (project) { return project.id === id; }); });\n\n;// CONCATENATED MODULE: ./src/components/Home/Home.tsx\n\n\n\nvar Home = function () {\n    return (react.createElement(Stack/* default */.Z, null,\n        react.createElement(Link/* default */.Z, { component: dist/* Link */.rU, to: "/projects" }, "Projects")));\n};\n\n;// CONCATENATED MODULE: ./src/routes.tsx\nvar routes_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar routes_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\nvar ProjectDetailBreadcrumbTitle = function (_a) {\n    var id = _a.id;\n    var project = useAppSelector(function (state) { return getProjectById(state, id); });\n    console.log(\'project:\', project);\n    return (react.createElement(react.Fragment, null, project ? project.name : \'...\'));\n};\nvar slugify = function (name) {\n    return name.toLowerCase().replace(/[^\\d\\w]/g, \'-\');\n};\nvar routes = [\n    {\n        id: "home",\n        path: "/",\n        element: react.createElement(Home, null)\n    },\n    {\n        path: "/projects",\n        id: "projects-parent",\n        getBreadcrumbTitle: function () {\n            return \'Projects\';\n        },\n        children: [\n            {\n                index: true,\n                id: "project-list",\n                element: react.createElement(ProjectList, null),\n                action: function (_a) {\n                    var request = _a.request;\n                    return routes_awaiter(void 0, void 0, void 0, function () {\n                        var formData, name_1, id;\n                        return routes_generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    if (!(request.method === \'POST\')) return [3 /*break*/, 2];\n                                    return [4 /*yield*/, request.formData()];\n                                case 1:\n                                    formData = _b.sent();\n                                    name_1 = formData.get(\'name\');\n                                    if (!name_1) {\n                                        throw new Response(\'\', { status: 400 });\n                                    }\n                                    id = slugify(name_1);\n                                    store.dispatch(addProject({\n                                        name: name_1,\n                                        id: id,\n                                        steps: [],\n                                    }));\n                                    return [2 /*return*/, (0,router/* redirect */.uX)("/projects/".concat(id))];\n                                case 2: throw new Response(\'\', { status: 405 });\n                            }\n                        });\n                    });\n                },\n            },\n            {\n                path: ":projectId",\n                id: "project-detail",\n                element: react.createElement(Project, null),\n                getBreadcrumbTitle: function (params) {\n                    if (!params) {\n                        throw new Error("Unable to get breadcrumb title for project detail page: no params provided");\n                    }\n                    var id = params.projectId;\n                    if (!id) {\n                        throw new Error("Unable to get breadcrumb title for project detail page: no project ID provided");\n                    }\n                    return (react.createElement(ProjectDetailBreadcrumbTitle, { id: id }));\n                },\n                children: [\n                    {\n                        path: "step",\n                        id: "step-change",\n                        action: function (_a) {\n                            var request = _a.request, params = _a.params;\n                            return routes_awaiter(void 0, void 0, void 0, function () {\n                                var formData, step, projectId_1, project;\n                                return routes_generator(this, function (_b) {\n                                    switch (_b.label) {\n                                        case 0:\n                                            if (!(request.method === \'POST\')) return [3 /*break*/, 2];\n                                            return [4 /*yield*/, request.formData()];\n                                        case 1:\n                                            formData = _b.sent();\n                                            step = formData.get("stepText");\n                                            projectId_1 = params.projectId;\n                                            if (!projectId_1) {\n                                                throw new Response(\'\', { status: 404 });\n                                            }\n                                            project = store.getState().projects.projects.find(function (project) { return project.id === projectId_1; });\n                                            if (!project) {\n                                                throw new Response(\'\', { status: 404 });\n                                            }\n                                            store.dispatch(addStep({ projectId: projectId_1, step: step }));\n                                            return [2 /*return*/, (0,router/* redirect */.uX)("/projects/".concat(projectId_1))];\n                                        case 2: throw new Response(\'\', { status: 405 });\n                                    }\n                                });\n                            });\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n];\n\n;// CONCATENATED MODULE: ./src/components/SiteHeader/SiteHeader.tsx\nvar SiteHeader_assign = (undefined && undefined.__assign) || function () {\n    SiteHeader_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return SiteHeader_assign.apply(this, arguments);\n};\n\n\n\n\nfunction findRouteForId(id, appRoutes) {\n    var _a;\n    if (appRoutes === void 0) { appRoutes = routes; }\n    for (var _i = 0, appRoutes_1 = appRoutes; _i < appRoutes_1.length; _i++) {\n        var route = appRoutes_1[_i];\n        if (route.id === id) {\n            return route;\n        }\n        if ((_a = route.children) === null || _a === void 0 ? void 0 : _a.length) {\n            var matchingRoute = findRouteForId(id, route.children);\n            if (matchingRoute) {\n                return matchingRoute;\n            }\n        }\n    }\n    return null;\n}\nvar breadcrumbNameMap = {\n    \'/projects\': \'Projects\',\n};\nvar BreadcrumbLink = function (props) {\n    return (react.createElement(Link/* default */.Z, SiteHeader_assign({}, props, { component: dist/* Link */.rU })));\n};\nvar SiteHeader = function () {\n    var matches = (0,react_router_dist/* useMatches */.SN)();\n    var routeMatches = matches.reduce(function (routeMatches, match) {\n        var route = findRouteForId(match.id);\n        if (route && !route.index && route.id !== \'home\') {\n            routeMatches.push({\n                route: route,\n                match: match,\n            });\n        }\n        return routeMatches;\n    }, []);\n    return (react.createElement("header", null, routeMatches.length > 0 ? (react.createElement(Breadcrumbs/* default */.Z, { separator: "\\u203A" },\n        react.createElement(BreadcrumbLink, { underline: "hover", color: "inherit", to: "/" }, "Home"),\n        routeMatches.map(function (_a, index) {\n            var _b;\n            var route = _a.route, match = _a.match;\n            var last = index === routeMatches.length - 1;\n            var to = match.pathname;\n            var title = (_b = route === null || route === void 0 ? void 0 : route.getBreadcrumbTitle) === null || _b === void 0 ? void 0 : _b.call(route, match.params);\n            return last ? (react.createElement(Typography/* default */.Z, { color: "text.primary", key: to }, title)) : (react.createElement(BreadcrumbLink, { underline: "hover", color: "inherit", to: to, key: to }, title));\n        }))) : null));\n};\n\n;// CONCATENATED MODULE: ./src/components/SiteLayout.tsx\n\n\n\nvar SiteLayout = function () {\n    return (react.createElement("div", null,\n        react.createElement(SiteHeader, null),\n        react.createElement(react_router_dist/* Outlet */.j3, null)));\n};\n\n;// CONCATENATED MODULE: ./src/index.tsx\n\n\n\n\n\n\n\n\n\ninitPersist();\nvar src_router = (0,dist/* createBrowserRouter */.aj)([\n    {\n        element: react.createElement(SiteLayout, null),\n        children: routes,\n    },\n]);\nvar root = (0,client/* createRoot */.s)(document.getElementById("app"));\nroot.render((react.createElement(es/* Provider */.zt, { store: store },\n    react.createElement(react_router_dist/* RouterProvider */.pG, { router: src_router }))));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxPQUFHLENBQ04sQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7QUNYNkI7QUFDd0M7QUFDaEM7QUFDTztBQUV2QjtBQUNlO0FBQ1E7QUFDTztBQUNuQjtBQUdsQyxXQUFXLEVBQUUsQ0FBQztBQUVkLElBQU0sVUFBTSxHQUFHLG9DQUFtQixDQUFDO0lBQ2pDO1FBQ0UsT0FBTyxFQUFFLG9CQUFDLFVBQVUsT0FBRztRQUN2QixRQUFRLEVBQUUsTUFBTTtLQUNqQjtDQUNGLENBQUMsQ0FBQztBQUVILElBQU0sSUFBSSxHQUFHLDRCQUFVLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxDQUFDO0FBRXpELElBQUksQ0FBQyxNQUFNLENBQUMsQ0FDVixvQkFBQyxtQkFBUSxJQUFDLEtBQUssRUFBRSxLQUFLO0lBQ3BCLG9CQUFDLHdDQUFjLElBQUMsTUFBTSxFQUFFLFVBQU0sR0FBSSxDQUN6QixDQUNaLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvc3RvcmUvcmVkdWNlcnMvcHJvamVjdHMudHM/MTA0ZiIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL3N0b3JlL3N0b3JlLnRzP2I4NTAiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9zdG9yZS9wZXJzaXN0LnRzPzM1OTIiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9zdG9yZS9ob29rcy50cz82NjVjIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0L0FkZFN0ZXBGb3JtLnRzeD85OGQ5Iiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0L0FkZFN0ZXBEaWFsb2cudHN4PzAyNTciLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL1Byb2plY3QvTm9Qcm9qZWN0LnRzeD8xNzcwIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9SZW9yZGVyYWJsZUxpc3QvUmVvcmRlcmFibGVMaXN0LnRzeD80MGFiIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9Qcm9qZWN0L1Jlb3JkZXJhYmxlU3RlcExpc3QudHN4P2FlNzYiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL1Byb2plY3QvUHJvamVjdC50c3g/NmFmNiIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvTmV3UHJvamVjdEZvcm0udHN4PzQ4NjUiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL1Byb2plY3RMaXN0LnRzeD85NTE0Iiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvc3RvcmUvc2VsZWN0b3JzL3Byb2plY3RzLnRzPzEyZTIiLCJ3ZWJwYWNrOi8vaG91c2VfdG9kby8uL3NyYy9jb21wb25lbnRzL0hvbWUvSG9tZS50c3g/OGU1NyIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL3JvdXRlcy50c3g/NjcwNyIsIndlYnBhY2s6Ly9ob3VzZV90b2RvLy4vc3JjL2NvbXBvbmVudHMvU2l0ZUhlYWRlci9TaXRlSGVhZGVyLnRzeD8yYTdiIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvY29tcG9uZW50cy9TaXRlTGF5b3V0LnRzeD81NjhkIiwid2VicGFjazovL2hvdXNlX3RvZG8vLi9zcmMvaW5kZXgudHN4P2Q5ODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIFBheWxvYWRBY3Rpb24gfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuXG5leHBvcnQgdHlwZSBTdGVwID0gc3RyaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2plY3Qge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0ZXBzOiBTdGVwW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdHNTdGF0ZSB7XG4gIHByb2plY3RzOiBQcm9qZWN0W107XG59XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogUHJvamVjdHNTdGF0ZSA9IHtcbiAgcHJvamVjdHM6IFtdLFxufVxuXG5jb25zdCBwcm9qZWN0c1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAncHJvamVjdHMnLFxuICBpbml0aWFsU3RhdGUsXG4gIHJlZHVjZXJzOiB7XG4gICAgaW5pdDogKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248UHJvamVjdFtdPikgPT4ge1xuICAgICAgc3RhdGUucHJvamVjdHMucHVzaCguLi5hY3Rpb24ucGF5bG9hZCk7XG4gICAgfSxcbiAgICBhZGRQcm9qZWN0OiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxQcm9qZWN0PikgPT4ge1xuICAgICAgc3RhdGUucHJvamVjdHMucHVzaChhY3Rpb24ucGF5bG9hZCk7XG4gICAgfSxcbiAgICB1cGRhdGVQcm9qZWN0OiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxQcm9qZWN0PikgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gc3RhdGUucHJvamVjdHMuZmluZEluZGV4KChwcm9qZWN0KSA9PiBwcm9qZWN0LmlkID09PSBhY3Rpb24ucGF5bG9hZC5pZCk7XG4gICAgICBpZiAocHJvamVjdEluZGV4IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2plY3QgJHthY3Rpb24ucGF5bG9hZC5pZH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgIH1cblxuICAgICAgc3RhdGUucHJvamVjdHNbcHJvamVjdEluZGV4XSA9IHtcbiAgICAgICAgLi4uc3RhdGUucHJvamVjdHNbcHJvamVjdEluZGV4XSxcbiAgICAgICAgLi4uYWN0aW9uLnBheWxvYWQsXG4gICAgICB9O1xuICAgIH0sXG4gICAgYWRkU3RlcDogKHN0YXRlLCB7IHBheWxvYWQ6IHsgcHJvamVjdElkLCBzdGVwLCB9IH06XG4gICAgICBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgICAgIHN0ZXA6IFN0ZXA7XG4gICAgICB9PlxuICAgICkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdCA9IHN0YXRlLnByb2plY3RzLmZpbmQoXG4gICAgICAgIChwcm9qZWN0KSA9PiBwcm9qZWN0LmlkID09PSBwcm9qZWN0SWQpO1xuICAgICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcHJvamVjdC5zdGVwcy5wdXNoKHN0ZXApO1xuICAgIH0sXG4gICAgc2V0U3RlcHM6IChzdGF0ZSwgeyBwYXlsb2FkOiB7IHByb2plY3RJZCwgc3RlcHMgfSB9OiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgIHByb2plY3RJZDogU3RyaW5nO1xuICAgICAgc3RlcHM6IFN0ZXBbXTtcbiAgICB9PikgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdCA9IHN0YXRlLnByb2plY3RzLmZpbmQoKHByb2plY3QpID0+IHByb2plY3QuaWQgPT09IHByb2plY3RJZCk7XG5cbiAgICAgIGlmICghcHJvamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByb2plY3Quc3RlcHMgPSBzdGVwcztcbiAgICB9XG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHsgaW5pdCwgYWRkUHJvamVjdCwgdXBkYXRlUHJvamVjdCwgYWRkU3RlcCwgc2V0U3RlcHMgfSA9IHByb2plY3RzU2xpY2UuYWN0aW9ucztcblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSBwcm9qZWN0c1NsaWNlLnJlZHVjZXI7IiwiaW1wb3J0IHsgQWN0aW9uLCBNaWRkbGV3YXJlIH0gZnJvbSBcInJlZHV4XCI7XG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5cbmltcG9ydCB7IHJlZHVjZXIgYXMgcHJvamVjdHNSZWR1Y2VyIH0gZnJvbSBcIi4vcmVkdWNlcnMvcHJvamVjdHNcIjtcblxuY29uc3QgbG9nTWlkZGxld2FyZTogTWlkZGxld2FyZSA9IHN0b3JlID0+IG5leHQgPT4gYWN0aW9uID0+IHtcbiAgY29uc29sZS5sb2coJ2Rpc3BhdGNoaW5nIGFjdGlvbicsIGFjdGlvbik7XG4gIHJldHVybiBuZXh0KGFjdGlvbik7XG59O1xuXG5jb25zdCBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHtcbiAgcmVkdWNlcjoge1xuICAgIHByb2plY3RzOiBwcm9qZWN0c1JlZHVjZXIsXG4gIH0sXG4gIG1pZGRsZXdhcmU6IFtcbiAgICBsb2dNaWRkbGV3YXJlLFxuICBdXG59KTtcblxuZXhwb3J0IHR5cGUgUm9vdFN0YXRlID0gUmV0dXJuVHlwZTx0eXBlb2Ygc3RvcmUuZ2V0U3RhdGU+O1xuXG5leHBvcnQgdHlwZSBBcHBEaXNwYXRjaCA9IHR5cGVvZiBzdG9yZS5kaXNwYXRjaDtcblxuZXhwb3J0IHsgc3RvcmUgfTsiLCJpbXBvcnQgKiBhcyBsb2NhbGZvcmFnZSBmcm9tIFwibG9jYWxmb3JhZ2VcIjtcblxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3JlZHVjZXJzL3Byb2plY3RzXCI7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgaW5pdCBhcyBpbml0UHJvamVjdHMgfSBmcm9tIFwiLi9yZWR1Y2Vycy9wcm9qZWN0c1wiO1xuXG5jb25zdCBTVE9SRV9LRVkgPSBcIlJFRFVYX1NUT1JFXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyc2lzdGVkU3RhdGUge1xuICBwcm9qZWN0czogUHJvamVjdFtdO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0UGVyc2lzdGVkU3RhdGUgPSBhc3luYyAoKSA9PiB7XG4gIHJldHVybiBhd2FpdCBsb2NhbGZvcmFnZS5nZXRJdGVtPFBlcnNpc3RlZFN0YXRlPihTVE9SRV9LRVkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRQZXJzaXN0ID0gKCkgPT4ge1xuICBzdG9yZS5zdWJzY3JpYmUoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBwZXJzaXN0ZWRTdGF0ZSA9IHtcbiAgICAgIHByb2plY3RzOiBzdGF0ZS5wcm9qZWN0cy5wcm9qZWN0cyxcbiAgICB9O1xuICAgIGF3YWl0IGxvY2FsZm9yYWdlLnNldEl0ZW0oU1RPUkVfS0VZLCBwZXJzaXN0ZWRTdGF0ZSk7XG4gIH0pO1xufTtcblxuZ2V0UGVyc2lzdGVkU3RhdGUoKS50aGVuKChzdG9yZWRTdGF0ZSkgPT4ge1xuICBpZiAoIXN0b3JlZFN0YXRlPy5wcm9qZWN0cz8ubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN0b3JlLmRpc3BhdGNoKGluaXRQcm9qZWN0cyhzdG9yZWRTdGF0ZS5wcm9qZWN0cykpO1xufSk7XG4iLCJpbXBvcnQgeyBUeXBlZFVzZVNlbGVjdG9ySG9vaywgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgdHlwZSB7IFJvb3RTdGF0ZSwgQXBwRGlzcGF0Y2ggfSBmcm9tICcuL3N0b3JlJ1xuXG5leHBvcnQgY29uc3QgdXNlQXBwRGlzcGF0Y2g6ICgpID0+IEFwcERpc3BhdGNoID0gdXNlRGlzcGF0Y2g7XG5leHBvcnQgY29uc3QgdXNlQXBwU2VsZWN0b3I6IFR5cGVkVXNlU2VsZWN0b3JIb29rPFJvb3RTdGF0ZT4gPSB1c2VTZWxlY3RvcjsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZvcm0gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgU3RhY2ssIFRleHRGaWVsZCB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5cbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi4vLi4vc3RvcmUvcmVkdWNlcnMvcHJvamVjdHNcIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZFN0ZXBGb3JtUGFyYW1zIHtcbiAgcHJvamVjdDogUHJvamVjdDtcbiAgb25TdWJtaXQ/OiBSZWFjdC5Gb3JtRXZlbnRIYW5kbGVyPEhUTUxGb3JtRWxlbWVudD47XG59XG5cblxuZXhwb3J0IGNvbnN0IEFkZFN0ZXBGb3JtID0gKHsgcHJvamVjdCwgb25TdWJtaXQgfTogQWRkU3RlcEZvcm1QYXJhbXMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Rm9ybSBtZXRob2Q9XCJwb3N0XCIgYWN0aW9uPXtgL3Byb2plY3RzLyR7cHJvamVjdC5pZH0vc3RlcGB9IG9uU3VibWl0PXtvblN1Ym1pdH0+XG4gICAgICA8U3RhY2s+XG4gICAgICAgIDxUZXh0RmllbGQgbmFtZT1cInN0ZXBUZXh0XCIgbGFiZWw9XCJTdGVwXCIgYXV0b0ZvY3VzPXt0cnVlfSAvPlxuICAgICAgPC9TdGFjaz5cbiAgICA8L0Zvcm0+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ1RpdGxlLCBEaWFsb2dDb250ZW50LCBEaWFsb2dBY3Rpb25zLCBEaWFsb2dQcm9wcywgQnV0dG9uIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIlxuXG5pbXBvcnQgeyBBZGRTdGVwRm9ybSwgQWRkU3RlcEZvcm1QYXJhbXMgfSBmcm9tIFwiLi9BZGRTdGVwRm9ybVwiO1xuXG5leHBvcnQgY29uc3QgQWRkU3RlcERpYWxvZyA9ICh7IHByb2plY3QsIG9wZW4sIG9uU3VibWl0IH06IEFkZFN0ZXBGb3JtUGFyYW1zICYgRGlhbG9nUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8RGlhbG9nIG9wZW49e29wZW59PlxuICAgICAgPERpYWxvZ1RpdGxlPlxuICAgICAgICBBZGQgYSBzdGVwXG4gICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgPERpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDxBZGRTdGVwRm9ybSBwcm9qZWN0PXtwcm9qZWN0fSBvblN1Ym1pdD17b25TdWJtaXR9IC8+XG4gICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICA8RGlhbG9nQWN0aW9ucz5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCI+Q2FuY2VsPC9CdXR0b24+XG4gICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIHZhcmlhbnQ9XCJjb250YWluZWRcIj5BZGQ8L0J1dHRvbj5cbiAgICAgIDwvRGlhbG9nQWN0aW9ucz5cbiAgICA8L0RpYWxvZz5cbiAgKVxufTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IE5vUHJvamVjdCA9ICgpID0+IHtcbiAgcmV0dXJuICg8ZGl2PlxuICAgIE5vIHByb2plY3QgZm91bmRcbiAgPC9kaXY+KTtcbn07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24sIEljb25CdXR0b24sIExpc3QsIExpc3RJdGVtLCBMaXN0SXRlbUljb24sIFN0YWNrIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IEFycm93RHJvcERvd24sIEFycm93RHJvcFVwIH0gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFJlb3JkZXJhYmxlTGlzdDxUPihcbiAge1xuICAgIGl0ZW1zLFxuICAgIGNoaWxkcmVuLFxuICAgIG9uUmVvcmRlcixcbiAgfToge1xuICAgIGl0ZW1zOiBUW107XG4gICAgY2hpbGRyZW46IChpdGVtOiBUKSA9PiBSZWFjdC5SZWFjdEVsZW1lbnQ7XG4gICAgb25SZW9yZGVyOiAocmVvcmRlcmVkSXRlbXM6IFRbXSkgPT4gdm9pZDtcbiAgfSkge1xuXG4gIGNvbnN0IG1vdmVVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBpbmRleFN0cmluZyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldFtcImluZGV4XCJdO1xuICAgIGlmICghaW5kZXhTdHJpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gaW5kZXggZGF0YSBzcGVjaWZpZWQgb24gcmVvcmRlciB1cCBidXR0b24nKTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChpbmRleFN0cmluZywgMTApO1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBpdGVtIHVwOyBpdCBpcyBhbHJlYWR5IGF0IHRoZSB0b3AnKTtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggJHtpbmRleH0gaXMgbm90IGluIHRoZSBsaXN0YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcEl0ZW1zID0gWy4uLml0ZW1zXTtcbiAgICBjb25zdCBpdGVtVG9Nb3ZlID0gdGVtcEl0ZW1zW2luZGV4XTtcbiAgICB0ZW1wSXRlbXNbaW5kZXhdID0gdGVtcEl0ZW1zW2luZGV4IC0gMV07XG4gICAgdGVtcEl0ZW1zW2luZGV4IC0gMV0gPSBpdGVtVG9Nb3ZlO1xuICAgIG9uUmVvcmRlcih0ZW1wSXRlbXMpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbW92ZURvd24gPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgaW5kZXhTdHJpbmcgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXRbXCJpbmRleFwiXTtcbiAgICBpZiAoIWluZGV4U3RyaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGluZGV4IGRhdGEgc3BlY2lmaWVkIG9uIHJlb3JkZXIgdXAgYnV0dG9uJyk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaW5kZXhTdHJpbmcsIDEwKTtcbiAgICBpZiAoaW5kZXggPj0gaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBpdGVtIGRvd247IGl0IGlzIGFscmVhZHkgYXQgdGhlIGJvdHRvbScpO1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBub3QgaW4gdGhlIGxpc3RgKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wSXRlbXMgPSBbLi4uaXRlbXNdO1xuICAgIGNvbnN0IGl0ZW1Ub01vdmUgPSB0ZW1wSXRlbXNbaW5kZXhdO1xuICAgIHRlbXBJdGVtc1tpbmRleF0gPSB0ZW1wSXRlbXNbaW5kZXggKyAxXTtcbiAgICB0ZW1wSXRlbXNbaW5kZXggKyAxXSA9IGl0ZW1Ub01vdmU7XG4gICAgb25SZW9yZGVyKHRlbXBJdGVtcyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxMaXN0PlxuICAgICAge1xuICAgICAgICBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgPExpc3RJdGVtIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgPFN0YWNrPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIHNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9e21vdmVVcH0gZGF0YS1pbmRleD17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8QXJyb3dEcm9wVXAgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4IDwgaXRlbXMubGVuZ3RoIC0gMSAmJiAoXG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBzaXplPVwic21hbGxcIiBvbkNsaWNrPXttb3ZlRG93bn0gZGF0YS1pbmRleD17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8QXJyb3dEcm9wRG93biAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9TdGFjaz5cbiAgICAgICAgICAgIHtjaGlsZHJlbihpdGVtKX1cbiAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICApKVxuICAgICAgfVxuICAgIDwvTGlzdD5cbiAgKTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RlcCB9IGZyb20gXCIuLi8uLi9zdG9yZS9yZWR1Y2Vycy9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgUmVvcmRlcmFibGVMaXN0IH0gZnJvbSBcIi4uL1Jlb3JkZXJhYmxlTGlzdC9SZW9yZGVyYWJsZUxpc3RcIjtcbmltcG9ydCB7IExpc3RJdGVtVGV4dCB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW9yZGVyYWJsZVN0ZXBMaXN0KHtcbiAgc3RlcHMsXG4gIG9uUmVvcmRlcixcbn06IHtcbiAgc3RlcHM6IFN0ZXBbXTtcbiAgb25SZW9yZGVyOiAocmVvcmRlcmVkU3RlcHM6IFN0ZXBbXSkgPT4gdm9pZDtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8UmVvcmRlcmFibGVMaXN0IGl0ZW1zPXtzdGVwc30gb25SZW9yZGVyPXtvblJlb3JkZXJ9PlxuICAgICAge1xuICAgICAgICAoc3RlcDogU3RlcCkgPT4gKFxuICAgICAgICAgIDxMaXN0SXRlbVRleHQ+XG4gICAgICAgICAgICB7c3RlcH1cbiAgICAgICAgICA8L0xpc3RJdGVtVGV4dD5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvUmVvcmRlcmFibGVMaXN0PlxuICApO1xufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBzaGFsbG93RXF1YWwgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IEJ1dHRvbiwgU3RhY2ssIFR5cG9ncmFwaHkgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2gsIHVzZUFwcFNlbGVjdG9yIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2hvb2tzXCI7XG5pbXBvcnQgeyBQcm9qZWN0LCBTdGVwLCBzZXRTdGVwcywgdXBkYXRlUHJvamVjdCB9IGZyb20gXCIuLi8uLi9zdG9yZS9yZWR1Y2Vycy9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgRHJhZ2dhYmxlU3RlcExpc3QgfSBmcm9tIFwiLi9EcmFnZ2FibGVTdGVwTGlzdFwiO1xuaW1wb3J0IHsgQWRkU3RlcERpYWxvZyB9IGZyb20gXCIuL0FkZFN0ZXBEaWFsb2dcIjtcbmltcG9ydCB7IE5vUHJvamVjdCB9IGZyb20gXCIuL05vUHJvamVjdFwiO1xuaW1wb3J0IHsgUmVvcmRlcmFibGVTdGVwTGlzdCB9IGZyb20gXCIuL1Jlb3JkZXJhYmxlU3RlcExpc3RcIjtcblxuXG5jb25zdCBQcm9qZWN0ID0gKCkgPT4ge1xuICBjb25zdCBbYWRkU3RlcERpYWxvZ0lzT3Blbiwgc2V0QWRkU3RlcERpYWxvZ0lzT3Blbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcbiAgY29uc3QgeyBwcm9qZWN0SWQgfSA9IHVzZVBhcmFtcygpO1xuICBjb25zdCBvcGVuQWRkU3RlcERpYWxvZ0hhbmRsZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QWRkU3RlcERpYWxvZ0lzT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUFkZFN0ZXBGb3JtU3VibWl0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEFkZFN0ZXBEaWFsb2dJc09wZW4oZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gKDxOb1Byb2plY3QgLz4pO1xuICB9XG5cbiAgY29uc3QgcHJvamVjdCA9IHVzZUFwcFNlbGVjdG9yKFxuICAgIChzdGF0ZSkgPT4gc3RhdGUucHJvamVjdHMucHJvamVjdHMuZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gcHJvamVjdElkKSxcbiAgICAocHJvamVjdDEsIHByb2plY3QyKSA9PiB7XG4gICAgICBpZiAocHJvamVjdDEgPT09IHByb2plY3QyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb2plY3QxICYmIHByb2plY3QyKSB7XG4gICAgICAgIGlmIChwcm9qZWN0MS5pZCAhPT0gcHJvamVjdDIuaWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2plY3QxLm5hbWUgIT09IHByb2plY3QyLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHByb2plY3QxLnN0ZXBzKSAhPT0gSlNPTi5zdHJpbmdpZnkocHJvamVjdDIuc3RlcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKCFwcm9qZWN0MSAmJiBwcm9qZWN0MikgfHwgKHByb2plY3QxICYmIHByb2plY3QyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICk7XG5cbiAgaWYgKCFwcm9qZWN0KSB7XG4gICAgcmV0dXJuICg8Tm9Qcm9qZWN0IC8+KTtcbiAgfVxuXG4gIGNvbnN0IG9uUmVvcmRlciA9IChyZW9yZGVyZWRTdGVwczogU3RlcFtdKTogdm9pZCA9PiB7XG4gICAgZGlzcGF0Y2godXBkYXRlUHJvamVjdCh7XG4gICAgICAuLi5wcm9qZWN0LFxuICAgICAgc3RlcHM6IHJlb3JkZXJlZFN0ZXBzLFxuICAgIH0pKVxuICAgIC8vIGRpc3BhdGNoKHNldFN0ZXBzKHtcbiAgICAvLyAgIHByb2plY3RJZDogcHJvamVjdC5pZCxcbiAgICAvLyAgIHN0ZXBzOiByZW9yZGVyZWRTdGVwcyxcbiAgICAvLyB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8U3RhY2s+XG4gICAgICA8aGVhZGVyPlxuICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiaDJcIj5cbiAgICAgICAgICB7cHJvamVjdC5uYW1lfVxuICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICA8L2hlYWRlcj5cbiAgICAgIDxBZGRTdGVwRGlhbG9nXG4gICAgICAgIHByb2plY3Q9e3Byb2plY3R9XG4gICAgICAgIG9wZW49e2FkZFN0ZXBEaWFsb2dJc09wZW59XG4gICAgICAgIG9uU3VibWl0PXtoYW5kbGVBZGRTdGVwRm9ybVN1Ym1pdH1cbiAgICAgIC8+XG4gICAgICA8U3RhY2s+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIG9uQ2xpY2s9e29wZW5BZGRTdGVwRGlhbG9nSGFuZGxlcn0+XG4gICAgICAgICAgQWRkIHN0ZXBcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxSZW9yZGVyYWJsZVN0ZXBMaXN0IHN0ZXBzPXtwcm9qZWN0LnN0ZXBzfSBvblJlb3JkZXI9e29uUmVvcmRlcn0gLz5cbiAgICAgICAgey8qIDxEcmFnZ2FibGVTdGVwTGlzdCBwcm9qZWN0PXtwcm9qZWN0fSAvPiAqL31cbiAgICAgIDwvU3RhY2s+XG4gICAgPC9TdGFjaz5cbiAgKTtcbn07XG5cbmV4cG9ydCB7IFByb2plY3QgfTtcbiIsImltcG9ydCB7IEJ1dHRvbiwgU3RhY2ssIFRleHRGaWVsZCB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZvcm0gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQgY29uc3QgTmV3UHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEZvcm0gbWV0aG9kPVwicG9zdFwiIGFjdGlvbj1cIi9wcm9qZWN0c1wiPlxuICAgICAgPFN0YWNrIHNwYWNpbmc9ezF9PlxuICAgICAgICA8VGV4dEZpZWxkIG5hbWU9XCJuYW1lXCIgbGFiZWw9XCJOYW1lXCIgLz5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgIENyZWF0ZVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvU3RhY2s+XG4gICAgPC9Gb3JtPlxuICApO1xufTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExpc3QsIEJ1dHRvbiwgTGlzdEl0ZW1CdXR0b24sIExpc3RJdGVtVGV4dCwgQWNjb3JkaW9uLCBBY2NvcmRpb25TdW1tYXJ5LCBBY2NvcmRpb25EZXRhaWxzLCBTdGFjayB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2gsIHVzZUFwcFNlbGVjdG9yIH0gZnJvbSBcIi4uL3N0b3JlL2hvb2tzXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0IH0gZnJvbSBcIi4uL3N0b3JlL3JlZHVjZXJzL3Byb2plY3RzXCI7XG5pbXBvcnQgeyBOZXdQcm9qZWN0Rm9ybSB9IGZyb20gXCIuL05ld1Byb2plY3RGb3JtXCI7XG5cbmV4cG9ydCBjb25zdCBQcm9qZWN0TGlzdCA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBEaXNwYXRjaCgpO1xuICBjb25zdCBwcm9qZWN0cyA9IHVzZUFwcFNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUucHJvamVjdHMucHJvamVjdHMpO1xuICBjb25zdCBvbkFkZENsaWNrID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKGFkZFByb2plY3Qoe1xuICAgICAgaWQ6IGBwcm9qZWN0XyR7cHJvamVjdHMubGVuZ3RoICsgMX1gLFxuICAgICAgbmFtZTogYFByb2plY3QgJHtwcm9qZWN0cy5sZW5ndGggKyAxfWAsXG4gICAgICBzdGVwczogW10sXG4gICAgfSkpO1xuICB9LCBbcHJvamVjdHNdKTtcblxuICByZXR1cm4gKFxuICAgIDxTdGFjaz5cbiAgICAgIDxBY2NvcmRpb24+XG4gICAgICAgIDxBY2NvcmRpb25TdW1tYXJ5PkFkZCBwcm9qZWN0PC9BY2NvcmRpb25TdW1tYXJ5PlxuICAgICAgICA8QWNjb3JkaW9uRGV0YWlscz5cbiAgICAgICAgICA8TmV3UHJvamVjdEZvcm0gLz5cbiAgICAgICAgPC9BY2NvcmRpb25EZXRhaWxzPlxuICAgICAgPC9BY2NvcmRpb24+XG4gICAgICA8TGlzdD5cbiAgICAgICAge3Byb2plY3RzLm1hcCgocHJvamVjdCwgaW5kZXgpID0+IChcbiAgICAgICAgICA8TGlzdEl0ZW1CdXR0b24ga2V5PXtpbmRleH0gY29tcG9uZW50PXtMaW5rfSB0bz17YC9wcm9qZWN0cy8ke3Byb2plY3QuaWR9YH0+XG4gICAgICAgICAgICA8TGlzdEl0ZW1UZXh0IHByaW1hcnk9e3Byb2plY3QubmFtZX0gLz5cbiAgICAgICAgICA8L0xpc3RJdGVtQnV0dG9uPlxuICAgICAgICApKX1cbiAgICAgIDwvTGlzdD5cbiAgICA8L1N0YWNrPlxuICApO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5pbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0cyA9IGNyZWF0ZVNlbGVjdG9yKFxuICAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUucHJvamVjdHMsXG4gIChwcm9qZWN0cykgPT4gcHJvamVjdHMucHJvamVjdHNcbik7XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0QnlJZCA9IGNyZWF0ZVNlbGVjdG9yKFxuICBnZXRQcm9qZWN0cyxcbiAgKHN0YXRlOiBSb290U3RhdGUsIGlkOiBzdHJpbmcpID0+IGlkLFxuICAocHJvamVjdHMsIGlkKSA9PiBwcm9qZWN0cy5maW5kKChwcm9qZWN0KSA9PiBwcm9qZWN0LmlkID09PSBpZClcbik7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTdGFjaywgTGluayBhcyBNdWlMaW5rIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQgY29uc3QgSG9tZSA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8U3RhY2s+XG4gICAgICA8TXVpTGluayBjb21wb25lbnQ9e0xpbmt9IHRvPVwiL3Byb2plY3RzXCI+XG4gICAgICAgIFByb2plY3RzXG4gICAgICA8L011aUxpbms+XG4gICAgPC9TdGFjaz5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFBhcmFtcywgUm91dGVPYmplY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSAnLi9jb21wb25lbnRzL1Byb2plY3QvUHJvamVjdCc7XG5pbXBvcnQgeyBQcm9qZWN0TGlzdCB9IGZyb20gXCIuL2NvbXBvbmVudHMvUHJvamVjdExpc3RcIjtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSBcIi4vc3RvcmUvc3RvcmVcIjtcbmltcG9ydCB7IGFkZFByb2plY3QsIGFkZFN0ZXAgfSBmcm9tICcuL3N0b3JlL3JlZHVjZXJzL3Byb2plY3RzJztcbmltcG9ydCB7IGdldFByb2plY3RCeUlkIH0gZnJvbSBcIi4vc3RvcmUvc2VsZWN0b3JzL3Byb2plY3RzXCI7XG5pbXBvcnQgeyB1c2VBcHBTZWxlY3RvciB9IGZyb20gXCIuL3N0b3JlL2hvb2tzXCI7XG5pbXBvcnQgeyBIb21lIH0gZnJvbSBcIi4vY29tcG9uZW50cy9Ib21lL0hvbWVcIjtcblxuZXhwb3J0IHR5cGUgQXBwUm91dGUgPSBSb3V0ZU9iamVjdCAmIHtcbiAgZ2V0QnJlYWRjcnVtYlRpdGxlPzogKHBhcmFtczogUGFyYW1zPHN0cmluZz4gfCBudWxsKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNoaWxkcmVuPzogQXBwUm91dGVbXTtcbn07XG5cbmNvbnN0IFByb2plY3REZXRhaWxCcmVhZGNydW1iVGl0bGUgPSAoeyBpZCB9OiB7IGlkOiBzdHJpbmc7IH0pID0+IHtcbiAgY29uc3QgcHJvamVjdCA9IHVzZUFwcFNlbGVjdG9yKChzdGF0ZSkgPT4gZ2V0UHJvamVjdEJ5SWQoc3RhdGUsIGlkKSk7XG4gIGNvbnNvbGUubG9nKCdwcm9qZWN0OicsIHByb2plY3QpO1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7cHJvamVjdCA/IHByb2plY3QubmFtZSA6ICcuLi4nfVxuICAgIDwvPlxuICApO1xufTtcblxuY29uc3Qgc2x1Z2lmeSA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXlxcZFxcd10vZywgJy0nKTtcbn07XG5cbmV4cG9ydCBjb25zdCByb3V0ZXM6IEFwcFJvdXRlW10gPSBbXG4gIHtcbiAgICBpZDogXCJob21lXCIsXG4gICAgcGF0aDogXCIvXCIsXG4gICAgZWxlbWVudDogPEhvbWUgLz5cbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL3Byb2plY3RzXCIsXG4gICAgaWQ6IFwicHJvamVjdHMtcGFyZW50XCIsXG4gICAgZ2V0QnJlYWRjcnVtYlRpdGxlOiAoKSA9PiB7XG4gICAgICByZXR1cm4gJ1Byb2plY3RzJztcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgICBpZDogXCJwcm9qZWN0LWxpc3RcIixcbiAgICAgICAgZWxlbWVudDogPFByb2plY3RMaXN0IC8+LFxuICAgICAgICBhY3Rpb246IGFzeW5jICh7IHJlcXVlc3QgfSkgPT4ge1xuICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoJ25hbWUnKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKCcnLCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaWQgPSBzbHVnaWZ5KG5hbWUpO1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYWRkUHJvamVjdCh7XG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBzdGVwczogW10sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoYC9wcm9qZWN0cy8ke2lkfWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZSgnJywgeyBzdGF0dXM6IDQwNSB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdGg6IFwiOnByb2plY3RJZFwiLFxuICAgICAgICBpZDogXCJwcm9qZWN0LWRldGFpbFwiLFxuICAgICAgICBlbGVtZW50OiA8UHJvamVjdCAvPixcbiAgICAgICAgZ2V0QnJlYWRjcnVtYlRpdGxlOiAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGdldCBicmVhZGNydW1iIHRpdGxlIGZvciBwcm9qZWN0IGRldGFpbCBwYWdlOiBubyBwYXJhbXMgcHJvdmlkZWRgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaWQgPSBwYXJhbXMucHJvamVjdElkO1xuICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGdldCBicmVhZGNydW1iIHRpdGxlIGZvciBwcm9qZWN0IGRldGFpbCBwYWdlOiBubyBwcm9qZWN0IElEIHByb3ZpZGVkYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoPFByb2plY3REZXRhaWxCcmVhZGNydW1iVGl0bGUgaWQ9e2lkfSAvPik7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcGF0aDogXCJzdGVwXCIsXG4gICAgICAgICAgICBpZDogXCJzdGVwLWNoYW5nZVwiLFxuICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoeyByZXF1ZXN0LCBwYXJhbXMgfSkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBmb3JtRGF0YS5nZXQoXCJzdGVwVGV4dFwiKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICBpZiAoIXByb2plY3RJZCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKCcnLCB7IHN0YXR1czogNDA0IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gc3RvcmUuZ2V0U3RhdGUoKS5wcm9qZWN0cy5wcm9qZWN0cy5maW5kKFxuICAgICAgICAgICAgICAgICAgKHByb2plY3QpID0+IHByb2plY3QuaWQgPT09IHByb2plY3RJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoJycsIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYWRkU3RlcCh7IHByb2plY3RJZCwgc3RlcCB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0KGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoJycsIHsgc3RhdHVzOiA0MDUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG5dOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGluaywgUGF0aE1hdGNoLCB1c2VMb2NhdGlvbiwgdXNlTWF0Y2hlcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBCcmVhZGNydW1icywgTGlua1Byb3BzIGFzIE11aUxpbmtQcm9wcywgTGluayBhcyBNdWlMaW5rLCBUeXBvZ3JhcGh5IH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcblxuXG5pbXBvcnQgeyBBcHBSb3V0ZSwgcm91dGVzIH0gZnJvbSBcIi4uLy4uL3JvdXRlc1wiO1xuXG5pbnRlcmZhY2UgUm91dGVNYXRjaCB7XG4gIHJvdXRlOiBBcHBSb3V0ZTtcbiAgbWF0Y2g6IChSZXR1cm5UeXBlPHR5cGVvZiB1c2VNYXRjaGVzPilbbnVtYmVyXTtcbn1cblxuZnVuY3Rpb24gZmluZFJvdXRlRm9ySWQoaWQ6IHN0cmluZywgYXBwUm91dGVzOiBBcHBSb3V0ZVtdID0gcm91dGVzKTogQXBwUm91dGUgfCBudWxsIHtcbiAgZm9yIChsZXQgcm91dGUgb2YgYXBwUm91dGVzKSB7XG4gICAgaWYgKHJvdXRlLmlkID09PSBpZCkge1xuICAgICAgcmV0dXJuIHJvdXRlO1xuICAgIH1cbiAgICBpZiAocm91dGUuY2hpbGRyZW4/Lmxlbmd0aCkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdSb3V0ZSA9IGZpbmRSb3V0ZUZvcklkKGlkLCByb3V0ZS5jaGlsZHJlbik7XG4gICAgICBpZiAobWF0Y2hpbmdSb3V0ZSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmdSb3V0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IGJyZWFkY3J1bWJOYW1lTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAnL3Byb2plY3RzJzogJ1Byb2plY3RzJyxcbn07XG5cbmludGVyZmFjZSBMaW5rUm91dGVyUHJvcHMgZXh0ZW5kcyBNdWlMaW5rUHJvcHMge1xuICB0bzogc3RyaW5nO1xuICByZXBsYWNlPzogYm9vbGVhbjtcbn1cblxuY29uc3QgQnJlYWRjcnVtYkxpbmsgPSAocHJvcHM6IExpbmtSb3V0ZXJQcm9wcykgPT4ge1xuICByZXR1cm4gKDxNdWlMaW5rIHsuLi5wcm9wc30gY29tcG9uZW50PXtMaW5rfSAvPik7XG59XG5cbmV4cG9ydCBjb25zdCBTaXRlSGVhZGVyID0gKCkgPT4ge1xuICBjb25zdCBtYXRjaGVzID0gdXNlTWF0Y2hlcygpO1xuXG4gIGNvbnN0IHJvdXRlTWF0Y2hlcyA9IG1hdGNoZXMucmVkdWNlKChyb3V0ZU1hdGNoZXMsIG1hdGNoKSA9PiB7XG4gICAgY29uc3Qgcm91dGUgPSBmaW5kUm91dGVGb3JJZChtYXRjaC5pZCk7XG4gICAgaWYgKHJvdXRlICYmICFyb3V0ZS5pbmRleCAmJiByb3V0ZS5pZCAhPT0gJ2hvbWUnKSB7XG4gICAgICByb3V0ZU1hdGNoZXMucHVzaCh7XG4gICAgICAgIHJvdXRlLFxuICAgICAgICBtYXRjaCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVNYXRjaGVzO1xuICB9LCBbXSBhcyBSb3V0ZU1hdGNoW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGhlYWRlcj5cbiAgICAgIHtcbiAgICAgICAgcm91dGVNYXRjaGVzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHNlcGFyYXRvcj1cIuKAulwiPlxuICAgICAgICAgICAgPEJyZWFkY3J1bWJMaW5rIHVuZGVybGluZT1cImhvdmVyXCIgY29sb3I9XCJpbmhlcml0XCIgdG89XCIvXCI+XG4gICAgICAgICAgICAgIEhvbWVcbiAgICAgICAgICAgIDwvQnJlYWRjcnVtYkxpbms+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvdXRlTWF0Y2hlcy5tYXAoKHsgcm91dGUsIG1hdGNoIH0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IGluZGV4ID09PSByb3V0ZU1hdGNoZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCB0byA9IG1hdGNoLnBhdGhuYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gcm91dGU/LmdldEJyZWFkY3J1bWJUaXRsZT8uKG1hdGNoLnBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdCA/IChcbiAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNvbG9yPVwidGV4dC5wcmltYXJ5XCIga2V5PXt0b30+XG4gICAgICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEJyZWFkY3J1bWJMaW5rIHVuZGVybGluZT1cImhvdmVyXCIgY29sb3I9XCJpbmhlcml0XCIgdG89e3RvfSBrZXk9e3RvfT5cbiAgICAgICAgICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgICAgICAgICAgPC9CcmVhZGNydW1iTGluaz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvQnJlYWRjcnVtYnM+XG4gICAgICAgICkgOiBudWxsXG4gICAgICB9XG4gICAgPC9oZWFkZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTaXRlSGVhZGVyIH0gZnJvbSBcIi4vU2l0ZUhlYWRlci9TaXRlSGVhZGVyXCI7XG5pbXBvcnQgeyBPdXRsZXQgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQgY29uc3QgU2l0ZUxheW91dCA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFNpdGVIZWFkZXIgLz5cbiAgICAgIDxPdXRsZXQgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyUm91dGVyLCBSb3V0ZXJQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGNyZWF0ZVJvb3QgfSBmcm9tICdyZWFjdC1kb20vY2xpZW50JztcblxuaW1wb3J0IFwiLi9zdHlsZXMuc2Nzc1wiO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlL3N0b3JlJztcbmltcG9ydCB7IGluaXRQZXJzaXN0IH0gZnJvbSAnLi9zdG9yZS9wZXJzaXN0JztcbmltcG9ydCB7IFNpdGVMYXlvdXQgfSBmcm9tICcuL2NvbXBvbmVudHMvU2l0ZUxheW91dCc7XG5pbXBvcnQgeyByb3V0ZXMgfSBmcm9tIFwiLi9yb3V0ZXNcIjtcblxuXG5pbml0UGVyc2lzdCgpO1xuXG5jb25zdCByb3V0ZXIgPSBjcmVhdGVCcm93c2VyUm91dGVyKFtcbiAge1xuICAgIGVsZW1lbnQ6IDxTaXRlTGF5b3V0IC8+LFxuICAgIGNoaWxkcmVuOiByb3V0ZXMsXG4gIH0sXG5dKTtcblxuY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikhKTtcblxucm9vdC5yZW5kZXIoKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8Um91dGVyUHJvdmlkZXIgcm91dGVyPXtyb3V0ZXJ9IC8+XG4gIDwvUHJvdmlkZXI+XG4pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6755\n')}},Q=>{Q.O(0,[216],(()=>(6755,Q(Q.s=6755)))),Q.O()}]);